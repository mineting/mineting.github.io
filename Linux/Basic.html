<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-MineTing.netlify.app/Linux/Basic.html"><meta property="og:site_name" content="Docs Demo"><meta property="og:title" content="Linux"><meta property="og:description" content="通用 Linux 【Refer】 VmWare 网络设置 Vmware三种网络模式 Vmware 提供了三种虚拟交换机和两张虚拟网卡： - VMnet0：用于虚拟桥接网络下的虚拟交换机 - VMnet1：用于虚拟 Host-Only 网络下的虚拟交换机 - VMnet8：用于虚拟 NAT 网络下的虚拟交换机 - VMware Network ..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="article:author" content="MineTing"><meta property="article:published_time" content="2023-03-13T00:00:00.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Linux","image":[""],"datePublished":"2023-03-13T00:00:00.000Z","dateModified":null,"author":[{"@type":"Person","name":"MineTing"}]}</script><title>Linux | Docs Demo</title><meta name="description" content="通用 Linux 【Refer】 VmWare 网络设置 Vmware三种网络模式 Vmware 提供了三种虚拟交换机和两张虚拟网卡： - VMnet0：用于虚拟桥接网络下的虚拟交换机 - VMnet1：用于虚拟 Host-Only 网络下的虚拟交换机 - VMnet8：用于虚拟 NAT 网络下的虚拟交换机 - VMware Network ...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-d97197b4.css" as="style"><link rel="stylesheet" href="/assets/style-d97197b4.css">
    <link rel="modulepreload" href="/assets/app-ae2ce5af.js"><link rel="modulepreload" href="/assets/Basic.html-2e318635.js"><link rel="modulepreload" href="/assets/Basic.html-a2d2fe60.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="prefetch" href="/assets/slides.html-d4b68ae3.js" as="script"><link rel="prefetch" href="/assets/MySQL.html-2c3189d9.js" as="script"><link rel="prefetch" href="/assets/Oracle.html-1ddfb32a.js" as="script"><link rel="prefetch" href="/assets/PostgreSQL.html-8d7c3b11.js" as="script"><link rel="prefetch" href="/assets/Redis.html-1871171c.js" as="script"><link rel="prefetch" href="/assets/ActiveMQ.html-7e36c817.js" as="script"><link rel="prefetch" href="/assets/Dubbo.html-a8cd7449.js" as="script"><link rel="prefetch" href="/assets/Effective Java.html-dfcd6599.js" as="script"><link rel="prefetch" href="/assets/Elasticsearch.html-e5846d2c.js" as="script"><link rel="prefetch" href="/assets/Gis.html-ddd37e0c.js" as="script"><link rel="prefetch" href="/assets/Git-Svn.html-af5d4a81.js" as="script"><link rel="prefetch" href="/assets/Http.html-8daf18da.js" as="script"><link rel="prefetch" href="/assets/Interview.html-1b10aa33.js" as="script"><link rel="prefetch" href="/assets/JavaSE.html-9f047d15.js" as="script"><link rel="prefetch" href="/assets/JavaWeb.html-cb212caf.js" as="script"><link rel="prefetch" href="/assets/JVM.html-f072d845.js" as="script"><link rel="prefetch" href="/assets/Kafka.html-25bd84a0.js" as="script"><link rel="prefetch" href="/assets/Maven-Gradle.html-d83ac95f.js" as="script"><link rel="prefetch" href="/assets/Mybatis.html-885e6e8d.js" as="script"><link rel="prefetch" href="/assets/MybatisPlus.html-598dfbea.js" as="script"><link rel="prefetch" href="/assets/Netty.html-8c02d0e8.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-5aa9d1fb.js" as="script"><link rel="prefetch" href="/assets/RabbitMQ.html-0d6d977e.js" as="script"><link rel="prefetch" href="/assets/RocketMQ.html-49e403fa.js" as="script"><link rel="prefetch" href="/assets/ServerLess.html-e22cee80.js" as="script"><link rel="prefetch" href="/assets/Shiro.html-5d17df5c.js" as="script"><link rel="prefetch" href="/assets/Spring.html-97965d72.js" as="script"><link rel="prefetch" href="/assets/SpringBoot2.html-c86a37b5.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-9a245adc.js" as="script"><link rel="prefetch" href="/assets/SpringMVC.html-0cc84083.js" as="script"><link rel="prefetch" href="/assets/SpringSecurity.html-f1ecb2f4.js" as="script"><link rel="prefetch" href="/assets/Zookeeper.html-796b6238.js" as="script"><link rel="prefetch" href="/assets/多线程与并发编程.html-db7a7ee6.js" as="script"><link rel="prefetch" href="/assets/常见场景实现.html-45d3f82e.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-4f78fb7f.js" as="script"><link rel="prefetch" href="/assets/数据结构与算法.html-08698f6d.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-b52dc063.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-21d367ac.js" as="script"><link rel="prefetch" href="/assets/Docker.html-25a77026.js" as="script"><link rel="prefetch" href="/assets/KubeSphere.html-9567c249.js" as="script"><link rel="prefetch" href="/assets/Python.html-1e966dd9.js" as="script"><link rel="prefetch" href="/assets/HtmlCSS.html-7dd20864.js" as="script"><link rel="prefetch" href="/assets/JavaScript.html-7c696a30.js" as="script"><link rel="prefetch" href="/assets/jQuery.html-2a1066fa.js" as="script"><link rel="prefetch" href="/assets/React.html-5412a153.js" as="script"><link rel="prefetch" href="/assets/Vue.html-85fe9f9e.js" as="script"><link rel="prefetch" href="/assets/index.html-67b15fdc.js" as="script"><link rel="prefetch" href="/assets/slides.html-8c03d836.js" as="script"><link rel="prefetch" href="/assets/Notifition.html-ac544339.js" as="script"><link rel="prefetch" href="/assets/disable.html-2dea8664.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-abf55e88.js" as="script"><link rel="prefetch" href="/assets/markdown.html-175f2004.js" as="script"><link rel="prefetch" href="/assets/page.html-0e44d074.js" as="script"><link rel="prefetch" href="/assets/index.html-a29f879c.js" as="script"><link rel="prefetch" href="/assets/index.html-b73e550e.js" as="script"><link rel="prefetch" href="/assets/baz.html-2cb41f02.js" as="script"><link rel="prefetch" href="/assets/index.html-969443a6.js" as="script"><link rel="prefetch" href="/assets/ray.html-62ce5fc6.js" as="script"><link rel="prefetch" href="/assets/index.html-9b626ed8.js" as="script"><link rel="prefetch" href="/assets/404.html-9df708ff.js" as="script"><link rel="prefetch" href="/assets/index.html-f1ef565e.js" as="script"><link rel="prefetch" href="/assets/index.html-7dc05b06.js" as="script"><link rel="prefetch" href="/assets/index.html-94fd5f7d.js" as="script"><link rel="prefetch" href="/assets/index.html-c580c463.js" as="script"><link rel="prefetch" href="/assets/index.html-2e8ee3a7.js" as="script"><link rel="prefetch" href="/assets/index.html-bc51f108.js" as="script"><link rel="prefetch" href="/assets/index.html-de8bd102.js" as="script"><link rel="prefetch" href="/assets/slides.html-35427f3a.js" as="script"><link rel="prefetch" href="/assets/MySQL.html-b4c05c5f.js" as="script"><link rel="prefetch" href="/assets/Oracle.html-31a22ec5.js" as="script"><link rel="prefetch" href="/assets/PostgreSQL.html-4b3a9fee.js" as="script"><link rel="prefetch" href="/assets/Redis.html-5593bcac.js" as="script"><link rel="prefetch" href="/assets/ActiveMQ.html-17e2f150.js" as="script"><link rel="prefetch" href="/assets/Dubbo.html-f1ccf506.js" as="script"><link rel="prefetch" href="/assets/Effective Java.html-611a5b80.js" as="script"><link rel="prefetch" href="/assets/Elasticsearch.html-6a52bfc3.js" as="script"><link rel="prefetch" href="/assets/Gis.html-8abfec19.js" as="script"><link rel="prefetch" href="/assets/Git-Svn.html-52d9c4f5.js" as="script"><link rel="prefetch" href="/assets/Http.html-be7a915b.js" as="script"><link rel="prefetch" href="/assets/Interview.html-e7be77bf.js" as="script"><link rel="prefetch" href="/assets/JavaSE.html-0e3b628d.js" as="script"><link rel="prefetch" href="/assets/JavaWeb.html-41d4b249.js" as="script"><link rel="prefetch" href="/assets/JVM.html-dbd72723.js" as="script"><link rel="prefetch" href="/assets/Kafka.html-944c972c.js" as="script"><link rel="prefetch" href="/assets/Maven-Gradle.html-d8008567.js" as="script"><link rel="prefetch" href="/assets/Mybatis.html-ce0c0db3.js" as="script"><link rel="prefetch" href="/assets/MybatisPlus.html-2c5b8712.js" as="script"><link rel="prefetch" href="/assets/Netty.html-d9e9600f.js" as="script"><link rel="prefetch" href="/assets/Nginx.html-98042356.js" as="script"><link rel="prefetch" href="/assets/RabbitMQ.html-789fcfb2.js" as="script"><link rel="prefetch" href="/assets/RocketMQ.html-076b5dec.js" as="script"><link rel="prefetch" href="/assets/ServerLess.html-0737dc3b.js" as="script"><link rel="prefetch" href="/assets/Shiro.html-e3093d4f.js" as="script"><link rel="prefetch" href="/assets/Spring.html-2ac4675c.js" as="script"><link rel="prefetch" href="/assets/SpringBoot2.html-7ab29a5b.js" as="script"><link rel="prefetch" href="/assets/SpringCloud.html-05fe7030.js" as="script"><link rel="prefetch" href="/assets/SpringMVC.html-748abb3f.js" as="script"><link rel="prefetch" href="/assets/SpringSecurity.html-e9f6acd6.js" as="script"><link rel="prefetch" href="/assets/Zookeeper.html-5d8329d4.js" as="script"><link rel="prefetch" href="/assets/多线程与并发编程.html-f6dbec75.js" as="script"><link rel="prefetch" href="/assets/常见场景实现.html-8f6b3fa9.js" as="script"><link rel="prefetch" href="/assets/操作系统.html-5bc15ff2.js" as="script"><link rel="prefetch" href="/assets/数据结构与算法.html-3c552842.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-1a1a87f0.js" as="script"><link rel="prefetch" href="/assets/设计模式.html-5c7c95ef.js" as="script"><link rel="prefetch" href="/assets/Docker.html-6d4eaef8.js" as="script"><link rel="prefetch" href="/assets/KubeSphere.html-3728deb9.js" as="script"><link rel="prefetch" href="/assets/Python.html-347ee1e7.js" as="script"><link rel="prefetch" href="/assets/HtmlCSS.html-fc50e4d3.js" as="script"><link rel="prefetch" href="/assets/JavaScript.html-b05d397f.js" as="script"><link rel="prefetch" href="/assets/jQuery.html-1c4e954d.js" as="script"><link rel="prefetch" href="/assets/React.html-d9b1e002.js" as="script"><link rel="prefetch" href="/assets/Vue.html-0b3d4dd9.js" as="script"><link rel="prefetch" href="/assets/index.html-acb676ad.js" as="script"><link rel="prefetch" href="/assets/slides.html-40da5346.js" as="script"><link rel="prefetch" href="/assets/Notifition.html-42cb38d5.js" as="script"><link rel="prefetch" href="/assets/disable.html-3b8c1244.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-57f5861e.js" as="script"><link rel="prefetch" href="/assets/markdown.html-a2e16149.js" as="script"><link rel="prefetch" href="/assets/page.html-fee4dd0d.js" as="script"><link rel="prefetch" href="/assets/index.html-a5e39405.js" as="script"><link rel="prefetch" href="/assets/index.html-a7c9ad07.js" as="script"><link rel="prefetch" href="/assets/baz.html-e3cf3d89.js" as="script"><link rel="prefetch" href="/assets/index.html-b7cc2189.js" as="script"><link rel="prefetch" href="/assets/ray.html-295aa4c2.js" as="script"><link rel="prefetch" href="/assets/index.html-cc65b46d.js" as="script"><link rel="prefetch" href="/assets/404.html-3ea6dd0d.js" as="script"><link rel="prefetch" href="/assets/index.html-df589b5a.js" as="script"><link rel="prefetch" href="/assets/index.html-fe03f011.js" as="script"><link rel="prefetch" href="/assets/index.html-0a3b162f.js" as="script"><link rel="prefetch" href="/assets/index.html-f0a5ac48.js" as="script"><link rel="prefetch" href="/assets/index.html-37711430.js" as="script"><link rel="prefetch" href="/assets/index.html-68e0b571.js" as="script"><link rel="prefetch" href="/assets/index.html-2c257328.js" as="script"><link rel="prefetch" href="/assets/auto-fe80bb03.js" as="script"><link rel="prefetch" href="/assets/index-2bf332f6.js" as="script"><link rel="prefetch" href="/assets/flowchart-c441f34d.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-e67e6523.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-abe06b83.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-0382da01.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-5794cde2.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.svg" alt="Docs Demo"><!----><span class="vp-site-name hide-in-pad">MineTing</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><!----><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="vp-link nav-link active" href="/Linux/Basic.html"><!---->English<!----></a></li><li class="dropdown-item"><a class="vp-link nav-link" href="/zh/"><!---->简体中文<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/slides.html"><span class="font-icon icon fa-fw fa-sm fas fa-person-chalkboard" style=""></span>Slide page<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">DevOps</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">BigData</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">Python</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">MachineLearning</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">GIS</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">Web</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">Go</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">C/C++</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Linux</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">MineTing</span></span><span property="author" content="MineTing"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-03-13T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 40 min</span><meta property="timeRequired" content="PT40M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<!----></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#vmware-网络设置">VmWare 网络设置</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#vmware三种网络模式">Vmware三种网络模式</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#vmware-虚拟网络编辑器">Vmware 虚拟网络编辑器</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#静态-ip-地址配置">静态 IP 地址配置</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#方法一-修改网卡配置文件">方法一：修改网卡配置文件</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#重启网络服务">重启网络服务</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#帮助类">帮助类</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#清屏">清屏</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#man">man</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#help">help</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#文件目录类">文件目录类</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#pwd-显示当前目录">pwd：显示当前目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ls-列出目录内容">ls：列出目录内容</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#cd-切换目录">cd：切换目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#mkdir-创建目录">mkdir：创建目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#rmdir-删除空目录">rmdir：删除空目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#touch-创建一个或多个空文件">touch：创建一个或多个空文件</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#cp-拷贝文件或文件夹">cp ：拷贝文件或文件夹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#rm-移除文件或目录">rm ：移除文件或目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#mv-移动文件与目录或重命名">mv ：移动文件与目录或重命名</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#cat-查看文件内容">cat ：查看文件内容</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#more-一次性加载">more：一次性加载</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#less-按需加载-日志推荐">less：按需加载，日志推荐</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#输出重定向和-追加">&gt; 输出重定向和 &gt;&gt; 追加</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#head-默认显示前-10-行">head：默认显示前 10 行</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tail-默认显示后10行">tail：默认显示后10行</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#wc-统计字数">wc：统计字数</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#ln-软链接">ln ：软链接</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#history-显示历史指令">history：显示历史指令</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#时间日期类">时间日期类</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#date-显示日期">date：显示日期</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#cal-查看日历">cal：查看日历</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#搜索查找类">搜索查找类</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#which-查看可执行文件的位置">which：查看可执行文件的位置</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#find-查找文件目录">find：查找文件目录</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#locate-快速定位文件路径">locate：快速定位文件路径</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#grep-指令和管道符号">grep 指令和管道符号  |</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#文件压缩类">文件压缩类</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#gzip-gunzip">gzip/gunzip</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#zip-unzip">zip/unzip</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#tar-打包压缩">tar：打包压缩</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#其他">其他</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#wget-下载资源">wget：下载资源</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#设置主机名">设置主机名</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#shell-概述">Shell 概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#shell-脚本入门">Shell 脚本入门</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#shell-变量">Shell 变量</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#系统变量">系统变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#自定义变量">自定义变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#注意事项">注意事项 ( )/$(( ))</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#特殊变量">特殊变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#位置参数">位置参数</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#预定义变量">预定义变量</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#运算符">运算符</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#条件判断">条件判断</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#基本语法">基本语法</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#常用判断条件">常用判断条件</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#流程控制">流程控制</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#if-判断">if 判断</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#case-语句">case 语句</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#for循环">for循环</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#while循环">while循环</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#read-读取控制台输入">read 读取控制台输入</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#函数">函数</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#系统函数">系统函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#自定义函数">自定义函数</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#正则表达式">正则表达式</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#常用的特殊字符">常用的特殊字符</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#文本处理工具">文本处理工具</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/#shell示例">Shell示例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#文件归档">文件归档</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#数据库备份">数据库备份</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#文件分发脚本">文件分发脚本</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#查看所有-jps-进程">查看所有 JPS 进程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/#zookeeper-启动停止脚本">Zookeeper 启动停止脚本</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><div align="center"><!----></div><blockquote><p>【Refer】</p></blockquote><h1 id="linux-概述-略" tabindex="-1"><a class="header-anchor" href="#linux-概述-略" aria-hidden="true">#</a> Linux 概述（略）</h1><h2 id="vmware-网络设置" tabindex="-1"><a class="header-anchor" href="#vmware-网络设置" aria-hidden="true">#</a> VmWare 网络设置</h2><h3 id="vmware三种网络模式" tabindex="-1"><a class="header-anchor" href="#vmware三种网络模式" aria-hidden="true">#</a> Vmware三种网络模式</h3><p>Vmware 提供了三种虚拟交换机和两张虚拟网卡：</p><blockquote><ul><li><p>VMnet0：用于虚拟桥接网络下的虚拟交换机</p></li><li><p>VMnet1：用于虚拟 Host-Only 网络下的虚拟交换机</p></li><li><p>VMnet8：用于虚拟 NAT 网络下的虚拟交换机</p></li><li><p>VMware Network Adapter VMnet1：Host 用于与 Host-Only 虚拟网络进行通信的虚拟网卡</p></li><li><p>VMware Network Adepter VMnet8：Host 用于与 NAT 虚拟网络进行通信的虚拟网卡</p></li></ul></blockquote><h4 id="桥接网络" tabindex="-1"><a class="header-anchor" href="#桥接网络" aria-hidden="true">#</a> 桥接网络</h4><p>​ 桥接网络是指虚拟网卡通过 VMnet0 虚拟交换机和本地物理网卡进行桥接，那么物理网卡和虚拟网卡就相当于处于同一个网段，虚拟交换机就相当于一台现实网络中的交换机。所以要想虚拟机也可以连接到互联网中，那 么两个网卡的IP地址也要设置为同一网段。</p><p>特点：</p><blockquote><ul><li><p>默认情况下可以访问互联网</p></li><li><p>桥接网络的虚拟机IP地址和物理真机在同一个网段</p></li><li><p>主机 B 及其虚拟机 B1 可以和主机 A1，A2相互通信</p></li></ul></blockquote><figure><img src="/assets/桥接网络-7b7f4db0.png" alt="桥接网络.png" tabindex="0" loading="lazy"><figcaption>桥接网络.png</figcaption></figure><h4 id="nat网络" tabindex="-1"><a class="header-anchor" href="#nat网络" aria-hidden="true">#</a> NAT网络</h4><p>​ 在 NAT 网络中，会用到 VMware Network Adepter VMnet8 虚拟网卡，主机上的 VMware Network Adepter VMnet8 虚拟网卡被直接连接到 VMnet8 虚拟交换机上与虚拟网卡进行通信。</p><p>VMware Network Adepter VMnet8 虚拟网卡的作用仅限于和 VMnet8 网段进行通信，它不给 VMnet8 网段提供路由功能，所以虚拟机虚拟 一个 NAT 服务器，使虚拟网卡可以连接到 Internet。</p><p>VMware Network Adepter VMnet8 虚拟网卡的 IP 地址是在安装 VMware 时由系统指定生成的，尽量不要修改这个数值，否则可能会使主机和虚拟机无法通信。</p><p>特点：</p><blockquote><ul><li><p>默认情况下可以访问互联网</p></li><li><p>NAT 网络的虚拟 IP 地址和物理真机不在同一个网段</p></li><li><p>为什么NAT网络可以访问互联网？<strong>因为 NAT 路由转换功能（地址转换技术）</strong></p></li><li><p>主机 B 不能访问主机 A1 和主机 A2</p></li></ul></blockquote><figure><img src="/assets/NAT网络模式-7874a223.png" alt="NAT网络模式.png" tabindex="0" loading="lazy"><figcaption>NAT网络模式.png</figcaption></figure><h4 id="仅主机网络" tabindex="-1"><a class="header-anchor" href="#仅主机网络" aria-hidden="true">#</a> 仅主机网络</h4><p>​ 在Host-Only模式下，虚拟网络是一个全封闭的网络，它唯一能够访问的就是物理真机。其实 Host-Only 网络和 NAT网络很相似，不同的地方就是 Host-Only 网络没有NAT服务，所以虚拟网络不能连接到 Internet。主机和虚拟机之间的通信是通过 VMware Network Adepter VMnet1 虚拟网卡来实现的。</p><p>特点：</p><blockquote><ul><li><p>默认情况下不可以访问互联网</p></li><li><p>仅主机模式下虚拟机 IP 地址和物理真机不在同一个网段</p></li><li><p>主机 A 和主机 A1，A2 可以相互访问，因为有 VMnet1 虚拟网卡</p></li></ul></blockquote><figure><img src="/assets/仅主机模式-caac0fee.png" alt="仅主机模式.png" tabindex="0" loading="lazy"><figcaption>仅主机模式.png</figcaption></figure><h3 id="vmware-虚拟网络编辑器" tabindex="-1"><a class="header-anchor" href="#vmware-虚拟网络编辑器" aria-hidden="true">#</a> Vmware 虚拟网络编辑器</h3><h4 id="桥接网络-1" tabindex="-1"><a class="header-anchor" href="#桥接网络-1" aria-hidden="true">#</a> 桥接网络</h4><p>注意：</p><blockquote><p>桥接模式，自动：会自动连接至网线或无线网络</p></blockquote><figure><img src="/assets/桥接网络配置-9c002e2f.png" alt="桥接网络配置.png" tabindex="0" loading="lazy"><figcaption>桥接网络配置.png</figcaption></figure><h4 id="仅主机模式" tabindex="-1"><a class="header-anchor" href="#仅主机模式" aria-hidden="true">#</a> 仅主机模式</h4><p>注意：</p><blockquote><p>仅主机模式，选择子网 IP，DHCP表示动态获取网络</p></blockquote><figure><img src="/assets/仅主机网络模式配置-ac8b5951.png" alt="仅主机网络模式配置.png" tabindex="0" loading="lazy"><figcaption>仅主机网络模式配置.png</figcaption></figure><h4 id="nat模式" tabindex="-1"><a class="header-anchor" href="#nat模式" aria-hidden="true">#</a> NAT模式</h4><figure><img src="/assets/NAT网络模式配置-62fb5358.png" alt="NAT网络模式配置.png" tabindex="0" loading="lazy"><figcaption>NAT网络模式配置.png</figcaption></figure><h2 id="静态-ip-地址配置" tabindex="-1"><a class="header-anchor" href="#静态-ip-地址配置" aria-hidden="true">#</a> 静态 IP 地址配置</h2><h3 id="方法一-修改网卡配置文件" tabindex="-1"><a class="header-anchor" href="#方法一-修改网卡配置文件" aria-hidden="true">#</a> 方法一：修改网卡配置文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/sysconfig/network-scripts/</span>
<span class="token punctuation">[</span>root@localhost network-scripts<span class="token punctuation">]</span><span class="token comment"># cp ifcfg-ens33 ifcfg-ens33.bak</span>
<span class="token punctuation">[</span>root@localhost network-scripts<span class="token punctuation">]</span><span class="token comment"># vim ifcfg-ens33</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>增加配置：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">&quot;Ethernet&quot;</span>
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span><span class="token string">&quot;none&quot;</span>
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span><span class="token string">&quot;stable-privacy&quot;</span>

<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>					<span class="token comment"># 网卡名</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">&quot;7525fa8a-a069-47fc-bd45-0d2eb148bef8&quot;</span>		<span class="token comment"># 网卡UUID，唯一标识</span>
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>					<span class="token comment"># 网卡设备名</span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>					<span class="token comment"># 激活网卡</span>
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span><span class="token string">&quot;static&quot;</span>				<span class="token comment"># IP获取方式，none和static表示静态，dhcp动态</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.100.100			<span class="token comment"># IP地址</span>
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>						<span class="token comment"># 子网掩码，等同于NETMASK=255.255.255.0</span>
<span class="token assign-left variable">NETMASK</span><span class="token operator">=</span><span class="token number">255.255</span>.255.0
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.100.2			<span class="token comment"># 网关, 默认 .2，Vmnet网卡默认 .1，其他的可作为IP</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">8.8</span>.8.8					<span class="token comment"># dns服务器</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重启网络服务" tabindex="-1"><a class="header-anchor" href="#重启网络服务" aria-hidden="true">#</a> 重启网络服务</h3><blockquote><p>Redhat6：service network restart</p><p>Redhat7：systemctl restart network.service</p><p>Redhat8：nmcli connection reload ens160</p><p>​ nmcli connection up ens160</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost network-scripts<span class="token punctuation">]</span><span class="token comment"># systemctl restart network.service</span>
<span class="token punctuation">[</span>root@localhost network-scripts<span class="token punctuation">]</span><span class="token comment"># ifconfig</span>
ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.100.100  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.100.255
        inet6 fe80::5416:4001:661d:1ada  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
        ether 00:0c:29:ad:84:bb  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets <span class="token number">457746</span>  bytes <span class="token number">654018153</span> <span class="token punctuation">(</span><span class="token number">623.7</span> MiB<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">105694</span>  bytes <span class="token number">6433985</span> <span class="token punctuation">(</span><span class="token number">6.1</span> MiB<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="linux-常用命令" tabindex="-1"><a class="header-anchor" href="#linux-常用命令" aria-hidden="true">#</a> Linux 常用命令</h1><h2 id="帮助类" tabindex="-1"><a class="header-anchor" href="#帮助类" aria-hidden="true">#</a> 帮助类</h2><h3 id="清屏" tabindex="-1"><a class="header-anchor" href="#清屏" aria-hidden="true">#</a> 清屏</h3><blockquote><p>clear CTRL+L reset（彻底清屏）</p><p>清空文件内容：echo &quot;&quot; &gt; sources.list</p></blockquote><h3 id="man" tabindex="-1"><a class="header-anchor" href="#man" aria-hidden="true">#</a> man</h3><p>​ 帮助命令：man [命令]</p><h3 id="help" tabindex="-1"><a class="header-anchor" href="#help" aria-hidden="true">#</a> help</h3><p>​ 帮助命令：help [命令]</p><h2 id="文件目录类" tabindex="-1"><a class="header-anchor" href="#文件目录类" aria-hidden="true">#</a> 文件目录类</h2><h3 id="pwd-显示当前目录" tabindex="-1"><a class="header-anchor" href="#pwd-显示当前目录" aria-hidden="true">#</a> pwd：显示当前目录</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ls-列出目录内容" tabindex="-1"><a class="header-anchor" href="#ls-列出目录内容" aria-hidden="true">#</a> ls：列出目录内容</h3><blockquote><p>基本语法：ls [选项] [目录或是文件]</p><p><strong>常用选项：</strong></p><p>-a ：显示当前目录所有的文件和目录，包括隐藏的文件</p><p>-l ：以列表的方式显示信息。（等价于 ll ）</p><p>-h：human人性化，可以查看文件大小。</p><p>-R：显示所有文件。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root ~<span class="token punctuation">]</span><span class="token comment"># ls -lah</span>
<span class="token comment"># 文件类型与权限 	链接数 	文件属主 文件属组 文件大小 建立或最近修改的时间 		名字</span>
dr-xr-x---. 		<span class="token number">16</span> 		root 	root   <span class="token number">4</span>.0K 	<span class="token number">4</span>月  <span class="token number">24</span> <span class="token number">22</span>:17		 <span class="token builtin class-name">.</span>
dr-xr-xr-x. 		<span class="token number">17</span> 		root 	root    <span class="token number">224</span> 	<span class="token number">4</span>月   <span class="token number">9</span> <span class="token number">18</span>:25		 <span class="token punctuation">..</span>
-rw-------. 		 <span class="token number">1</span> 		root 	root   <span class="token number">1</span>.8K 	<span class="token number">4</span>月   <span class="token number">9</span> <span class="token number">18</span>:26		 anaconda-ks.cfg
drwxr-xr-x. 		 <span class="token number">3</span> 		root 	root     <span class="token number">53</span> 	<span class="token number">4</span>月  <span class="token number">24</span> <span class="token number">17</span>:57		 archive
-rw-------. 		 <span class="token number">1</span> 		root 	root    11K 	<span class="token number">4</span>月  <span class="token number">24</span> <span class="token number">22</span>:17		 .bash_history
-rw-r--r--. 		 <span class="token number">1</span> 		root 	root     <span class="token number">18</span> 	<span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> 		.bash_logout
-rw-r--r--. 		 <span class="token number">1</span> 		root 	root    <span class="token number">176</span> 	<span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> 		.bash_profile
-rw-r--r--. 		 <span class="token number">1</span> 		root 	root    <span class="token number">176</span> 	<span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> 		.bashrc
drwx------. 		<span class="token number">15</span> 		root 	root   <span class="token number">4</span>.0K 	<span class="token number">4</span>月   <span class="token number">9</span> <span class="token number">18</span>:51		 .cache
drwxr-xr-x. 		<span class="token number">14</span> 		root 	root    <span class="token number">261</span> 	<span class="token number">4</span>月   <span class="token number">9</span> <span class="token number">18</span>:44		 .config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cd-切换目录" tabindex="-1"><a class="header-anchor" href="#cd-切换目录" aria-hidden="true">#</a> cd：切换目录</h3><blockquote><p>cd：Change Directory 切换路径</p><p>cd ~ 或 cd 切换到当前用户家目录</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/opt/shell
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># cd</span>
<span class="token punctuation">[</span>root@root ~<span class="token punctuation">]</span><span class="token comment"># cd /opt/shell</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># cd ~</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mkdir-创建目录" tabindex="-1"><a class="header-anchor" href="#mkdir-创建目录" aria-hidden="true">#</a> mkdir：创建目录</h3><blockquote><p>基本语法：mkdir [选项] 要创建的目录</p><p>参数：-p 创建多级目录</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root opt<span class="token punctuation">]</span><span class="token comment"># mkdir ./linux/dir</span>
mkdir: 无法创建目录<span class="token string">&quot;./linux/dir&quot;</span><span class="token builtin class-name">:</span> 没有那个文件或目录
<span class="token punctuation">[</span>root@root opt<span class="token punctuation">]</span><span class="token comment"># mkdir ./linux/dir -p</span>
<span class="token punctuation">[</span>root@root opt<span class="token punctuation">]</span><span class="token comment"># ls</span>
linux  rh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="rmdir-删除空目录" tabindex="-1"><a class="header-anchor" href="#rmdir-删除空目录" aria-hidden="true">#</a> rmdir：删除空目录</h3><p>注意：<strong>如果需要删除非空目录，需要使用 rm -rf 要删除的目录。</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root opt<span class="token punctuation">]</span><span class="token comment"># rmdir ./linux</span>
rmdir: 删除 <span class="token string">&quot;./linux&quot;</span> 失败: 目录非空
<span class="token punctuation">[</span>root@root opt<span class="token punctuation">]</span><span class="token comment"># rm -rf ./linux</span>
<span class="token punctuation">[</span>root@root opt<span class="token punctuation">]</span><span class="token comment"># ls</span>
rh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="touch-创建一个或多个空文件" tabindex="-1"><a class="header-anchor" href="#touch-创建一个或多个空文件" aria-hidden="true">#</a> touch：创建一个或多个空文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root dir<span class="token punctuation">]</span><span class="token comment"># touch test test2 &amp;&amp; ls</span>
<span class="token builtin class-name">test</span> test2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cp-拷贝文件或文件夹" tabindex="-1"><a class="header-anchor" href="#cp-拷贝文件或文件夹" aria-hidden="true">#</a> cp ：拷贝文件或文件夹</h3><blockquote><p>基本语法： cp [选项] source destation</p><p>常用选项：</p><p>​ -r ：递归复制整个文件夹，<strong>单独拷贝文件或压缩包不需要加 -r ，对于文件夹需要添加 -r</strong></p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 1. 将一个文件夹复制到另一个文件夹下</span>
<span class="token function">cp</span> <span class="token parameter variable">-r</span> srcDir/ destDir/
<span class="token comment"># 2. 将一个文件夹下的所有内容复制到另一个文件夹下</span>
<span class="token function">cp</span> <span class="token parameter variable">-r</span> srcDir/* destDir/
<span class="token function">cp</span> <span class="token parameter variable">-r</span> srcDir/. destDir/
<span class="token comment"># 注意拷贝多级目录时需要加递归参数 -r，否则不生效，提示：cp: 略过目录&quot;apache-tomcat-8.5.70&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：如果目的目录下有相同的文件则会提示是否进行覆盖，<strong>强制覆盖不提示的方法：\cp（在前面加\）</strong></p><h3 id="rm-移除文件或目录" tabindex="-1"><a class="header-anchor" href="#rm-移除文件或目录" aria-hidden="true">#</a> rm ：移除文件或目录</h3><blockquote><p>基本语法：rm [选项] 要删除的文件或目录。</p><p>常用选项</p><p><strong>-r ：递归删除整个文件夹。</strong></p><p><strong>-f ：强制删除不提示。</strong></p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root dir<span class="token punctuation">]</span><span class="token comment"># rm -rf test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="mv-移动文件与目录或重命名" tabindex="-1"><a class="header-anchor" href="#mv-移动文件与目录或重命名" aria-hidden="true">#</a> <strong>mv ：移动文件与目录或重命名</strong></h3><blockquote><p><strong>基本语法：</strong></p><p>重命名：mv oldNameFile newNameFile</p><p>移动文件：mv /temp/movefile /targetFolder</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root dir<span class="token punctuation">]</span><span class="token comment"># touch config.txt</span>
<span class="token punctuation">[</span>root@root dir<span class="token punctuation">]</span><span class="token comment"># mv config.txt config.txt.bak</span>
<span class="token punctuation">[</span>root@root dir<span class="token punctuation">]</span><span class="token comment"># ls</span>
config.txt.bak
<span class="token punctuation">[</span>root@root dir<span class="token punctuation">]</span><span class="token comment"># mv config.txt.bak /opt/linux/ &amp;&amp; ls /opt/linux/</span>
config.txt.bak  <span class="token function">dir</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cat-查看文件内容" tabindex="-1"><a class="header-anchor" href="#cat-查看文件内容" aria-hidden="true">#</a> cat ：查看文件内容</h3><blockquote><p>基本语法： cat [选项] 要查看的文件。</p><p>注意：会显示全部文件内容，一般会带上管道命令 | more。管道符 <strong>|</strong> 作为连接使用。</p><p>常用选项</p><p>​ <strong>-n ：显示行号</strong></p></blockquote><p>示例： /etc/profile 文件内容，并显示行号。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root ~<span class="token punctuation">]</span><span class="token comment"># cat -n /etc/profile</span>
<span class="token number">1</span>  <span class="token comment"># /etc/profile</span>
<span class="token number">2</span>
<span class="token number">3</span>  <span class="token comment"># System wide environment and startup programs, for login setup</span>
<span class="token number">4</span>  <span class="token comment"># Functions and aliases go in /etc/bashrc</span>
<span class="token number">5</span>
<span class="token number">6</span>  <span class="token comment"># It&#39;s NOT a good idea to change this file unless you know what you</span>
<span class="token number">7</span>  <span class="token comment"># are doing. It&#39;s much better to create a custom.sh shell script in</span>
<span class="token number">8</span>  <span class="token comment"># /etc/profile.d/ to make custom changes to your environment, as this</span>
<span class="token number">9</span>  <span class="token comment"># will prevent the need for merging in future updates.</span>
<span class="token number">10</span>
<span class="token number">11</span>  <span class="token function-name function">pathmunge</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">12</span>      <span class="token keyword">case</span> <span class="token string">&quot;:<span class="token variable">${<span class="token environment constant">PATH</span>}</span>:&quot;</span> <span class="token keyword">in</span>
<span class="token number">13</span>          *:<span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>:*<span class="token punctuation">)</span>
<span class="token number">14</span>              <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token number">15</span>          *<span class="token punctuation">)</span>
<span class="token number">16</span>              <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$2</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;after&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
<span class="token number">17</span>                  <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$1</span>
<span class="token number">18</span>              <span class="token keyword">else</span>
<span class="token number">19</span>                  <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$1</span><span class="token builtin class-name">:</span><span class="token environment constant">$PATH</span>
<span class="token number">20</span>              <span class="token keyword">fi</span>
<span class="token number">21</span>      <span class="token keyword">esac</span>
<span class="token number">22</span>  <span class="token punctuation">}</span>
<span class="token number">23</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="more-一次性加载" tabindex="-1"><a class="header-anchor" href="#more-一次性加载" aria-hidden="true">#</a> more：一次性加载</h3><blockquote><p>​ more 指令是一个基于 VI 编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容（一次性加载全部文件内容）。more指令中内置了若干快捷键，详见操作说明。</p><p>基本语法：more 要查看的文件</p></blockquote><p>操作说明：</p><table><thead><tr><th><strong>操作</strong></th><th><strong>功能说明</strong></th></tr></thead><tbody><tr><td><strong>空白键（space）</strong></td><td>代表向下翻一页</td></tr><tr><td><strong>Enter</strong></td><td>代表向下翻一行</td></tr><tr><td><strong>q</strong></td><td>立即离开，不再显示文件内容</td></tr><tr><td><strong>Ctrl+F</strong></td><td>向下滚动一屏</td></tr><tr><td><strong>Ctrl+B</strong></td><td>返回上一屏</td></tr><tr><td><strong>=</strong></td><td>输出当前行号</td></tr><tr><td><strong>:f</strong></td><td>输出文件名和当前行号</td></tr></tbody></table><h3 id="less-按需加载-日志推荐" tabindex="-1"><a class="header-anchor" href="#less-按需加载-日志推荐" aria-hidden="true">#</a> <strong>less：按需加载，日志推荐</strong></h3><p>​ less 指令用来分屏查看文件内容，它的功能与 more 指令类似，但是<strong>比 more 指令更加强大，支持各种显示终端。<strong>less 指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。</strong>（日志推荐使用less）</strong></p><p>操作说明：</p><table><thead><tr><th><strong>操作</strong></th><th><strong>功能说明</strong></th></tr></thead><tbody><tr><td><strong>空格</strong></td><td>向下翻动一页</td></tr><tr><td><strong>【pagedown】</strong></td><td>向下翻动一页</td></tr><tr><td><strong>【pageup】</strong></td><td>向上翻动一页</td></tr><tr><td><strong>/字符串</strong></td><td>向下搜寻【字符串】，n：向下查找，N：向上查找</td></tr><tr><td><strong>?字符串</strong></td><td>向上搜寻【字符串】，n：向上查找，N：向下查找</td></tr><tr><td><strong>q</strong></td><td>离开less</td></tr></tbody></table><h3 id="输出重定向和-追加" tabindex="-1"><a class="header-anchor" href="#输出重定向和-追加" aria-hidden="true">#</a> &gt; 输出重定向和 &gt;&gt; 追加</h3><blockquote><p>示例：</p><p>​ ls -l &gt; 文件 （功能描述：列表的内容写入文件 appendTest.txt 中（覆盖写））</p><p>​ cat 文件1 &gt; 文件2 （功能描述：将文件1的内容覆盖到文件2）</p><p>​ echo &quot;内容&quot;&gt;&gt; 文件</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello Wolrd&quot;</span> <span class="token operator">&gt;&gt;</span> a.txt
<span class="token function">cat</span> /etc/profile <span class="token operator">&gt;&gt;</span> global.cof
<span class="token builtin class-name">echo</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&gt;</span> a.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="head-默认显示前-10-行" tabindex="-1"><a class="header-anchor" href="#head-默认显示前-10-行" aria-hidden="true">#</a> head：默认显示前 10 行</h3><blockquote><p>​ head 用于显示文件的开头部分内容，默认情况下 head 指令显示文件的前 10 行内容。</p><p>基本语法：</p><p>​ head 文件 (功能描述：默认查看文件头10 行内容)</p><p>​ head -n 5 文件 (功能描述：查看文件头 5 行内容，5 可以是任意行数)</p></blockquote><h3 id="tail-默认显示后10行" tabindex="-1"><a class="header-anchor" href="#tail-默认显示后10行" aria-hidden="true">#</a> tail：默认显示后10行</h3><p>​ tail用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 10 行内容。</p><blockquote><p>基本语法</p><ol><li>tail 文件 （功能描述：查看文件后10行内容）</li><li>tail -n 5 文件 （功能描述：查看文件后5行内容，5可以是任意行数）</li><li><strong>tail -f 文件 （功能描述：实时追踪该文档的所有更新）CTRL + C退出</strong></li></ol></blockquote><h3 id="wc-统计字数" tabindex="-1"><a class="header-anchor" href="#wc-统计字数" aria-hidden="true">#</a> wc：统计字数</h3><blockquote><p>​ 利用 wc 指令我们可以计算文件的 Byte 数、字数、或是行数，若不指定文件名称、或是所给予的文件名为&quot;-&quot;，则wc指令会从标准输入设备读取数据。</p><p>语法：<strong>wc [-clw ][--help][--version][文件...]</strong></p><p><strong>可以统计多个文件。</strong></p><p><strong>参数说明：</strong></p><ol><li><strong>-c 或 --bytes 或 --chars 只显示Bytes数。</strong></li><li><strong>-l 或 --lines 显示行数。</strong></li><li><strong>-w 或 --words 只显示字数。</strong></li><li>--help 在线帮助。</li><li>--version 显示版本信息。</li></ol></blockquote><p><strong>示例：统计文件字数</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root testCommand<span class="token punctuation">]</span><span class="token comment"># vim testWC.txt</span>
<span class="token punctuation">[</span>root@root testCommand<span class="token punctuation">]</span><span class="token comment"># wc testWC.txt</span>
  <span class="token number">5</span>  <span class="token number">12</span> <span class="token number">110</span> testWC.txt
<span class="token comment"># 5 行 12 字数 110 字节数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ln-软链接" tabindex="-1"><a class="header-anchor" href="#ln-软链接" aria-hidden="true">#</a> ln ：软链接</h3><p>基本语法</p><p>​ ln -s [原文件或目录] [软链接名] （功能描述：给原文件创建一个软链接）</p><p>示例： 在 /home 目录下创建一个软连接 linkToRoot，连接到 /root 目录，删除软连接 linkToRoot</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root home<span class="token punctuation">]</span><span class="token comment"># ln -s /root homeToRoot</span>
<span class="token punctuation">[</span>root@root home<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">0</span>
lrwxrwxrwx. <span class="token number">1</span> root   root    <span class="token number">5</span> <span class="token number">4</span>月  <span class="token number">24</span> <span class="token number">23</span>:10 homeToRoot -<span class="token operator">&gt;</span> /root
drwx------. <span class="token number">3</span> liufei liufei <span class="token number">78</span> <span class="token number">4</span>月   <span class="token number">9</span> <span class="token number">18</span>:14 liufei
<span class="token punctuation">[</span>root@root home<span class="token punctuation">]</span><span class="token comment"># cd homeToRoot/</span>
<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  archive  initial-setup-ks.cfg  shell  testCommand  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/home/homeToRoot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意事项：当我们使用 pwd 指令查看目录时，仍然看到的是软链接所在目录。cd -P：如果目录是链接时，切换到实际路径的目录。</strong></p><h3 id="history-显示历史指令" tabindex="-1"><a class="header-anchor" href="#history-显示历史指令" aria-hidden="true">#</a> history：显示历史指令</h3><p>​ 查看已经执行过历史命令，也可以执行历史指令。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 显示所有的历史命令</span>
<span class="token function">history</span>
<span class="token comment"># 显示最近使用过的10个指令</span>
<span class="token function">history</span> <span class="token number">10</span>
<span class="token comment"># 执行历史编号为10的指令</span>
<span class="token operator">!</span> <span class="token number">10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="时间日期类" tabindex="-1"><a class="header-anchor" href="#时间日期类" aria-hidden="true">#</a> 时间日期类</h2><h3 id="date-显示日期" tabindex="-1"><a class="header-anchor" href="#date-显示日期" aria-hidden="true">#</a> date：显示日期</h3><blockquote><p>基本语法</p><ol><li><p>date （功能描述：显示当前时间）</p></li><li><p>date +%Y （功能描述：显示当前年份）</p></li><li><p>date +%m （功能描述：显示当前月份）</p></li><li><p>date +%d （功能描述：显示当前是哪一天）</p></li><li><p>date &quot;+%Y-%m-%d %H：%M：%S&quot;（功能描述：显示年月日时分秒）</p></li></ol></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># date +%Y</span>
<span class="token number">2022</span>
<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># date +%y</span>
<span class="token number">22</span>
<span class="token comment"># 注意M表示分钟，m表示月份（从1开始）</span>
<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># date +%M</span>
<span class="token number">17</span>
<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># date +%m</span>
04
<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># date &quot;+%Y年-%m月-%d日 %H:%M:%S&quot;</span>
<span class="token number">2022</span>年-04月-24日 <span class="token number">23</span>:19:31
<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cal-查看日历" tabindex="-1"><a class="header-anchor" href="#cal-查看日历" aria-hidden="true">#</a> cal：查看日历</h3><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># cal</span>
      四月 <span class="token number">2022</span>
日 一 二 三 四 五 六
                <span class="token number">1</span>  <span class="token number">2</span>
 <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span>
<span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span>
<span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span>
<span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>

<span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># cal 2022</span>
                               <span class="token number">2022</span>

        一月                   二月                   三月
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
                   <span class="token number">1</span>          <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>          <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>
 <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>    <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span>    <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span>
 <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span>   <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span>   <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span>
<span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span>   <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span>   <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span>
<span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span>   <span class="token number">27</span> <span class="token number">28</span>                  <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>
<span class="token number">30</span> <span class="token number">31</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="搜索查找类" tabindex="-1"><a class="header-anchor" href="#搜索查找类" aria-hidden="true">#</a> 搜索查找类</h2><h3 id="which-查看可执行文件的位置" tabindex="-1"><a class="header-anchor" href="#which-查看可执行文件的位置" aria-hidden="true">#</a> which：查看可执行文件的位置</h3><blockquote><p>​ 查看可执行文件的位置。在 PATH 变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用 which 命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。</p><p>命令功能：which 指令会在 PATH 变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。</p><p>命令参数：</p><ul><li>-n 　指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。</li><li>-p 　与-n参数相同，但此处的包括了文件的路径。</li><li>-w 　指定输出时栏位的宽度。</li><li>-V 　显示版本信息</li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># which firefox</span>
/usr/bin/firefox
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="find-查找文件目录" tabindex="-1"><a class="header-anchor" href="#find-查找文件目录" aria-hidden="true">#</a> find：查找文件目录</h3><p>​ find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端。</p><p>基本语法：<strong>find [搜索范围] [选项]</strong></p><p>选项说明</p><table><thead><tr><th><strong>选项</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td><strong>-name&lt;查询方式&gt;</strong></td><td>按照指定的文件名查找模式查找文件</td></tr><tr><td><strong>-user&lt;用户名&gt;</strong></td><td>查找属于指定用户名的所有文件</td></tr><tr><td><strong>-size&lt;文件大小&gt;</strong></td><td>按照指定的文件大小查找文件</td></tr></tbody></table><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 根据名称查找/home 目录下的hello.txt文件</span>
<span class="token function">find</span> /home <span class="token parameter variable">-name</span> hello.txt
<span class="token comment"># 使用通配符时需要添加引号</span>
<span class="token function">find</span> /home <span class="token parameter variable">-name</span> <span class="token string">&quot;hello*&quot;</span>

<span class="token comment"># 查找/opt目录下，用户名称为 nobody的文件。</span>
<span class="token function">find</span> /opt <span class="token parameter variable">-user</span> nobody
<span class="token comment"># 查找整个Linux系统下大于200M的文件（+n 大于 -n小于 n等于）</span>
<span class="token function">find</span> / <span class="token parameter variable">-size</span> +20M
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="locate-快速定位文件路径" tabindex="-1"><a class="header-anchor" href="#locate-快速定位文件路径" aria-hidden="true">#</a> locate：快速定位文件路径</h3><p>​ locate 指令可以快速定位文件路径。locate 指令利用事先建立的系统中所有文件名称及路径的 locate 数据库实现快速定位给定的文件。locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新locate。</p><p>特别说明：由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建 locate 数据库。</p><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 请使用locate 指令快速定位 hello文件所在目录</span>
updatedb
<span class="token function">locate</span> hello
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="grep-指令和管道符号" tabindex="-1"><a class="header-anchor" href="#grep-指令和管道符号" aria-hidden="true">#</a> grep 指令和管道符号 |</h3><blockquote><p>​ grep 过滤查找，<strong>管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理。</strong></p><p>基本语法：<strong>grep [选项] 查找内容 源文件</strong></p><p>常用选项</p><table><thead><tr><th><strong>选项</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td><strong>-n</strong></td><td>显示匹配行及行号</td></tr><tr><td><strong>-i</strong></td><td>忽略字母大小写</td></tr></tbody></table></blockquote><p>示例：查找 /etc/profile下的 HOSTNAME 所在行。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root homeToRoot<span class="token punctuation">]</span><span class="token comment"># cat /etc/profile | grep -ni HostName</span>
<span class="token number">45</span>:<span class="token environment constant">HOSTNAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>/usr/bin/hostname <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null<span class="token variable">`</span></span>
<span class="token number">53</span>:export <span class="token environment constant">PATH</span> <span class="token environment constant">USER</span> <span class="token environment constant">LOGNAME</span> MAIL <span class="token environment constant">HOSTNAME</span> <span class="token environment constant">HISTSIZE</span> <span class="token environment constant">HISTCONTROL</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="文件压缩类" tabindex="-1"><a class="header-anchor" href="#文件压缩类" aria-hidden="true">#</a> 文件压缩类</h2><h3 id="gzip-gunzip" tabindex="-1"><a class="header-anchor" href="#gzip-gunzip" aria-hidden="true">#</a> gzip/gunzip</h3><blockquote><p>​ gzip 用于压缩<strong>文件</strong>（<strong>不会保留原文件</strong>），gunzip 用于解压的。</p><p>基本语法：</p><p>gzip 文件 （功能描述：压缩文件，只能将文件压缩为 *.gz 文件）</p><p>gunzip 文件 .gz （功能描述：解压缩文件命令）</p><p><strong>说明：不会保留原文件。</strong></p><p><strong>参数 –r：对文件分别压缩</strong></p><p>示例： gzip 压缩，将 /home 下的 hello.txt 文件先进行压缩再解压。</p></blockquote><h3 id="zip-unzip" tabindex="-1"><a class="header-anchor" href="#zip-unzip" aria-hidden="true">#</a> zip/unzip</h3><blockquote><p>zip 用于压缩文件，unzip 用于解压的，这个在项目打包发布中很有用的。</p><p>基本语法</p><ul><li><p>zip [选项] XXX.zip 将要压缩的内容（功能描述：压缩文件和目录的命令）</p></li><li><p>unzip [选项] XXX.zip （功能描述：解压缩文件）</p></li></ul><p>zip常用选项</p><ul><li>-r：递归压缩，即压缩目录</li></ul><p>unzip的常用选项</p><ul><li>-d ：指定解压后文件的存放目录</li></ul><p>示例1： 将 /home下的所有文件进行压缩成 mypackage.zip，对于单独的文件可以显示压缩率。</p></blockquote><h3 id="tar-打包压缩" tabindex="-1"><a class="header-anchor" href="#tar-打包压缩" aria-hidden="true">#</a> tar：打包压缩</h3><blockquote><p><strong>tar</strong> 指令是打包指令，最后打包后的文件是 <strong>.tar.gz</strong> 的文件。</p><p>打包和压缩：打包是指将一大堆文件或目录什么的变成一个总的文件，压缩则是将一个大的文件通过一些压缩算法变成一个小文件。</p><p>基本语法：<strong>tar [选项] XXX.tar.gz 打包的内容</strong></p><p>功能描述：打包目录，压缩后的文件格式 <strong>.tar.gz。</strong></p><p>选项说明：</p><table><thead><tr><th><strong>选项</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td><strong>-c</strong></td><td>产生 <strong>.tar</strong> 打包文件</td></tr><tr><td>-z</td><td><strong>打包同时压缩</strong></td></tr><tr><td><strong>-x</strong></td><td>解压 .tar 文件</td></tr><tr><td><strong>-f</strong></td><td>指定压缩后的文件名</td></tr><tr><td><strong>-v</strong></td><td>显示详细信息</td></tr></tbody></table></blockquote><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 打包</span>
<span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> testTar.tar.gz a.txt b.txt
<span class="token comment"># 解压,-C 指定解压目录</span>
<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> testTar.tar.gz <span class="token parameter variable">-C</span> /root/testTar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="其他" tabindex="-1"><a class="header-anchor" href="#其他" aria-hidden="true">#</a> 其他</h2><h3 id="wget-下载资源" tabindex="-1"><a class="header-anchor" href="#wget-下载资源" aria-hidden="true">#</a> wget：下载资源</h3><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> http://nginx.org/download/nginx-1.6.2.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置主机名" tabindex="-1"><a class="header-anchor" href="#设置主机名" aria-hidden="true">#</a> 设置主机名</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hostnamectl set-hostname xxx
<span class="token function">cat</span> /etc/hostname
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="磁盘管理" tabindex="-1"><a class="header-anchor" href="#磁盘管理" aria-hidden="true">#</a> 磁盘管理</h1><h1 id="网络管理" tabindex="-1"><a class="header-anchor" href="#网络管理" aria-hidden="true">#</a> 网络管理</h1><h1 id="进程管理" tabindex="-1"><a class="header-anchor" href="#进程管理" aria-hidden="true">#</a> 进程管理</h1><h1 id="用户管理" tabindex="-1"><a class="header-anchor" href="#用户管理" aria-hidden="true">#</a> 用户管理</h1><h1 id="权限管理" tabindex="-1"><a class="header-anchor" href="#权限管理" aria-hidden="true">#</a> 权限管理</h1><h1 id="软件安装" tabindex="-1"><a class="header-anchor" href="#软件安装" aria-hidden="true">#</a> 软件安装</h1><p>报错：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>One of the configured repositories failed <span class="token punctuation">(</span>未知<span class="token punctuation">)</span>,
 and yum doesn<span class="token string">&#39;t have enough cached data to continue. At this point the only
 safe thing yum can do is fail. There are a few ways to work &quot;fix&quot; this:

     1. Contact the upstream for the repository and get them to fix the problem.

     2. Reconfigure the baseurl/etc. for the repository, to point to a working
        upstream. This is most often useful if you are using a newer
        distribution release than is supported by the repository (and the
        packages for the previous distribution release still work).

     3. Run the command with the repository temporarily disabled
            yum --disablerepo=&lt;repoid&gt; ...

     4. Disable the repository permanently, so yum won&#39;</span>t use it by default. Yum
        will <span class="token keyword">then</span> just ignore the repository <span class="token keyword">until</span> you permanently <span class="token builtin class-name">enable</span> it
        again or use <span class="token parameter variable">--enablerepo</span> <span class="token keyword">for</span> temporary usage:

            yum-config-manager <span class="token parameter variable">--disable</span> <span class="token operator">&lt;</span>repoid<span class="token operator">&gt;</span>
        or
            subscription-manager repos <span class="token parameter variable">--disable</span><span class="token operator">=</span><span class="token operator">&lt;</span>repoid<span class="token operator">&gt;</span>

     <span class="token number">5</span>. Configure the failing repository to be skipped, <span class="token keyword">if</span> it is unavailable.
        Note that yum will try to contact the repo. when it runs <span class="token function">most</span> commands,
        so will have to try and fail each <span class="token function">time</span> <span class="token punctuation">(</span>and thus. yum will be be much
        slower<span class="token punctuation">)</span>. If it is a very temporary problem though, this is often a <span class="token function">nice</span>
        compromise:

            yum-config-manager <span class="token parameter variable">--save</span> <span class="token parameter variable">--setopt</span><span class="token operator">=</span><span class="token operator">&lt;</span>repoid<span class="token operator">&gt;</span>.skip_if_unavailable<span class="token operator">=</span>true

Cannot <span class="token function">find</span> a valid baseurl <span class="token keyword">for</span> repo: base/7/x86_64

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方案：yum makecache</p><h1 id="shell-编程" tabindex="-1"><a class="header-anchor" href="#shell-编程" aria-hidden="true">#</a> Shell 编程</h1><h2 id="shell-概述" tabindex="-1"><a class="header-anchor" href="#shell-概述" aria-hidden="true">#</a> Shell 概述</h2><p>​ Shell 是一个命令行解释器，为用户提供了一个向 Linux 发送请求以便运行程序的界面系统级程序，用户可以用 Shell 来启动、挂起、停止甚至是编写一些程序接收用户指令，然后调用系统内核，Shell有很多版本。</p><p>Linux 提供的解析器：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># cat /etc/shells</span>
/bin/sh
/bin/bash
/usr/bin/sh
/usr/bin/bash
/bin/tcsh
/bin/csh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>bash 和 sh 的关系：sh 作为 bash 的一个软链接</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ll /bin/ |grep bash</span>
-rwxr-xr-x. <span class="token number">1</span> root root      <span class="token number">964536</span> <span class="token number">4</span>月   <span class="token number">1</span> <span class="token number">2020</span> <span class="token function">bash</span>
lrwxrwxrwx. <span class="token number">1</span> root root          <span class="token number">10</span> <span class="token number">4</span>月   <span class="token number">9</span> <span class="token number">18</span>:14 bashbug -<span class="token operator">&gt;</span> bashbug-64
-rwxr-xr-x. <span class="token number">1</span> root root        <span class="token number">6964</span> <span class="token number">4</span>月   <span class="token number">1</span> <span class="token number">2020</span> bashbug-64
lrwxrwxrwx. <span class="token number">1</span> root root           <span class="token number">4</span> <span class="token number">4</span>月   <span class="token number">9</span> <span class="token number">18</span>:14 <span class="token function">sh</span> -<span class="token operator">&gt;</span> <span class="token function">bash</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CentOS 默认的解析器是 bash：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $SHELL</span>
/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="shell-脚本入门" tabindex="-1"><a class="header-anchor" href="#shell-脚本入门" aria-hidden="true">#</a> Shell 脚本入门</h2><p>脚本格式的要求：</p><p>​ **#!/bin/sh **是指此脚本使用 /bin/sh 来解释执行，#! 是特殊的表示符，其后面跟的是解释此脚本的 shell 的路径。</p><p>示例：编写 Shell 脚本 <a href="http://helloworld.sh" target="_blank" rel="noopener noreferrer">helloworld.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 输出 Hello World</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> /opt/shell
<span class="token builtin class-name">cd</span> /opt/shell
<span class="token function">vim</span> helloworld.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;Hello World&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Shell 脚本的执行方式：</p><p>方式一：使用命令 sh/bash <a href="http://helloworld.sh" target="_blank" rel="noopener noreferrer">helloworld.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 执行，文件路径可以使用绝对路径和相对路径。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># bash helloworld.sh</span>
Hello World
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># sh helloworld.sh</span>
Hello World
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># bash /opt/shell/helloworld.sh</span>
Hello World
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># sh /opt/shell/helloworld.sh</span>
Hello World
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方式二：赋予文件可执行权限，直接使用相对路径和绝对路径执行文件。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># helloworld.sh</span>
bash: helloworld.sh: 未找到命令<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># chmod +x helloworld.sh</span>
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># ./helloworld.sh</span>
Hello World
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># /opt/shell/helloworld.sh</span>
Hello World
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方式三：在脚本的路径前面加上点 . 或者 source</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># chmod -x helloworld.sh</span>
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># . helloworld.sh</span>
Hello World
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># source helloworld.sh</span>
Hello World
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注意：</strong></p><p>如果在 shell 脚本目录执行 <a href="http://helloworld.sh" target="_blank" rel="noopener noreferrer">helloworld.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，则 shell 会将 <a href="http://helloworld.sh" target="_blank" rel="noopener noreferrer">helloworld.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 当作一个命令，报错：未找到命令</p><p>关于 &quot;.&quot; 和 source 的区别：</p><ol><li>source 命令是 shell 内嵌的一种命令，由 cshell/csh 演变而来。</li><li>&quot;.&quot; 命令由 bash 命令演变而来。</li></ol><p>注意方式三和前两种方式的区别：</p><ol><li>前两种方式都是在当前 shell 中打开一个子 shell 来执行脚本内容，当脚本内容结束，则子 shell 关闭，回到父 shell 中。</li><li>第三种方式，在脚本路径前加 &quot;.&quot; 或者 source 的方式，可以使脚本内容在当前 shell 里执行，而无需打开子 shell。相当于读取文件的每一行命令，然后再当前 shell 中执行。如修改 /etc/profile 文件以后，需要 source 一下的原因。</li><li>打开子 shell 与不打开子 shell 的区别就在于，环境变量的继承关系，如在子 shell 中设置的当前变量，父 shell 是不可见的。</li></ol></blockquote><p>查看子bash进程：（-bash表示父bash）</p><p>使用 bash 命令开启一个新的进程。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># bash</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ps -f</span>
<span class="token environment constant">UID</span>         PID   <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMD
root       <span class="token number">9873</span>   <span class="token number">9865</span>  <span class="token number">0</span> 08:34 pts/4    00:00:00 <span class="token parameter variable">-bash</span>
root      <span class="token number">10766</span>   <span class="token number">9873</span>  <span class="token number">1</span> 09:51 pts/4    00:00:00 <span class="token function">bash</span>
root      <span class="token number">10799</span>  <span class="token number">10766</span>  <span class="token number">0</span> 09:52 pts/4    00:00:00 <span class="token function">ps</span> <span class="token parameter variable">-f</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ps -ef |grep bash 相当于在子 shell 中执行 ps 命令，使用 exit 退出子shell。</p><p>bash 作为一个进程存在，开启 bash 就需要关闭 exit。</p><p>注意单引号与双引号的区别：</p><p>单引号：单引号中的内容不会转义或取值</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo &#39;----$USER----&#39;</span>
----<span class="token environment constant">$USER</span>----
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo &quot;----$USER----&quot;</span>
----root---
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="shell-变量" tabindex="-1"><a class="header-anchor" href="#shell-变量" aria-hidden="true">#</a> Shell 变量</h2><p>Shell变量分为系统变量和用户自定义变量，也可以分为全局变量和局部变量。</p><p>对于全局变量和局部变量：如在 bash 进程中再开启 bash，全局变量对于子 bash 是可见的。</p><h3 id="系统变量" tabindex="-1"><a class="header-anchor" href="#系统变量" aria-hidden="true">#</a> 系统变量</h3><p>如 $HOME $PWD $SHELL $USER。</p><p>查看变量的方式：</p><ul><li><p>env</p></li><li><p>printenv</p></li><li><p>echo $HOME</p></li><li><p>printenv HOME</p></li><li><p>set</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># env |less</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># env</span>
<span class="token assign-left variable"><span class="token environment constant">XDG_SESSION_ID</span></span><span class="token operator">=</span><span class="token number">84</span>
<span class="token assign-left variable"><span class="token environment constant">HOSTNAME</span></span><span class="token operator">=</span>root
<span class="token assign-left variable">SELINUX_ROLE_REQUESTED</span><span class="token operator">=</span>
<span class="token assign-left variable"><span class="token environment constant">TERM</span></span><span class="token operator">=</span>xterm
<span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash
<span class="token assign-left variable"><span class="token environment constant">HISTSIZE</span></span><span class="token operator">=</span><span class="token number">1000</span>
<span class="token assign-left variable">SSH_CLIENT</span><span class="token operator">=</span><span class="token number">192.168</span>.1.5 <span class="token number">6921</span> <span class="token number">22</span>
<span class="token assign-left variable">SELINUX_USE_CURRENT_RANGE</span><span class="token operator">=</span>
<span class="token assign-left variable">SSH_TTY</span><span class="token operator">=</span>/dev/pts/4
<span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span>root
<span class="token assign-left variable"><span class="token environment constant">LS_COLORS</span></span><span class="token operator">=</span>rs<span class="token operator">=</span><span class="token number">0</span>:di<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">34</span>:ln<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:mh<span class="token operator">=</span>00:pi<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">33</span>:so<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:do<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:bd<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">33</span><span class="token punctuation">;</span>01:cd<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">33</span><span class="token punctuation">;</span>01:or<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token number">31</span><span class="token punctuation">;</span>01:mi<span class="token operator">=</span>01<span class="token punctuation">;</span>05<span class="token punctuation">;</span><span class="token number">37</span><span class="token punctuation">;</span><span class="token number">41</span>:su<span class="token operator">=</span><span class="token number">37</span><span class="token punctuation">;</span><span class="token number">41</span>:sg<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token number">43</span>:ca<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token number">41</span>:tw<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token number">42</span>:ow<span class="token operator">=</span><span class="token number">34</span><span class="token punctuation">;</span><span class="token number">42</span>:st<span class="token operator">=</span><span class="token number">37</span><span class="token punctuation">;</span><span class="token number">44</span>:ex<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">32</span>:*.tar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tgz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.arc<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.arj<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.taz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lha<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lz4<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lzh<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lzma<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tlz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.txz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tzo<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.t7z<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.zip<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.z<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.Z<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.dz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.gz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lrz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.lzo<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.xz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.bz2<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.bz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tbz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tbz2<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.tz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.deb<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.rpm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.jar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.war<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.ear<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.sar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.rar<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.alz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.ace<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.zoo<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.cpio<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.7z<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.rz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.cab<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">31</span>:*.jpg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.jpeg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.gif<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.bmp<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.pbm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.pgm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ppm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.tga<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xbm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xpm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.tif<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.tiff<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.png<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.svg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.svgz<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mng<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.pcx<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mov<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mpg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mpeg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.m2v<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mkv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.webm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ogm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mp4<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.m4v<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.mp4v<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.vob<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.qt<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.nuv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.wmv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.asf<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.rm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.rmvb<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.flc<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.avi<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.fli<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.flv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.gl<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.dl<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xcf<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.xwd<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.yuv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.cgm<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.emf<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.axv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.anx<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ogv<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.ogx<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">35</span>:*.aac<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.au<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.flac<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.mid<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.midi<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.mka<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.mp3<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.mpc<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.ogg<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.ra<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.wav<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.axa<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.oga<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.spx<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:*.xspf<span class="token operator">=</span>01<span class="token punctuation">;</span><span class="token number">36</span>:
<span class="token assign-left variable">MAIL</span><span class="token operator">=</span>/var/spool/mail/root
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
<span class="token assign-left variable"><span class="token environment constant">PWD</span></span><span class="token operator">=</span>/root/shell
<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8
<span class="token assign-left variable">SELINUX_LEVEL_REQUESTED</span><span class="token operator">=</span>
<span class="token assign-left variable"><span class="token environment constant">HISTCONTROL</span></span><span class="token operator">=</span>ignoredups
<span class="token assign-left variable"><span class="token environment constant">SHLVL</span></span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/root
<span class="token assign-left variable"><span class="token environment constant">LOGNAME</span></span><span class="token operator">=</span>root
<span class="token assign-left variable"><span class="token environment constant">XDG_DATA_DIRS</span></span><span class="token operator">=</span>/root/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share
<span class="token assign-left variable">SSH_CONNECTION</span><span class="token operator">=</span><span class="token number">192.168</span>.1.5 <span class="token number">6921</span> <span class="token number">192.168</span>.1.130 <span class="token number">22</span>
<span class="token assign-left variable"><span class="token environment constant">LESSOPEN</span></span><span class="token operator">=</span><span class="token operator">||</span>/usr/bin/lesspipe.sh %s
<span class="token assign-left variable"><span class="token environment constant">XDG_RUNTIME_DIR</span></span><span class="token operator">=</span>/run/user/0
<span class="token assign-left variable"><span class="token environment constant">DISPLAY</span></span><span class="token operator">=</span>localhost:11.0
<span class="token assign-left variable">_</span><span class="token operator">=</span>/usr/bin/env
<span class="token assign-left variable"><span class="token environment constant">OLDPWD</span></span><span class="token operator">=</span>/root
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># printenv</span>
<span class="token assign-left variable"><span class="token environment constant">XDG_SESSION_ID</span></span><span class="token operator">=</span><span class="token number">84</span>
<span class="token assign-left variable"><span class="token environment constant">HOSTNAME</span></span><span class="token operator">=</span>root
<span class="token punctuation">..</span>.同上所述
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># printenv USER</span>
root
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $HOME</span>
/root
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ls $HOME</span>
anaconda-ks.cfg  initial-setup-ks.cfg  shell  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment">#</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># set</span>
<span class="token assign-left variable">ABRT_DEBUG_LOG</span><span class="token operator">=</span>/dev/null
<span class="token assign-left variable"><span class="token environment constant">BASH</span></span><span class="token operator">=</span>/bin/bash
<span class="token assign-left variable"><span class="token environment constant">BASHOPTS</span></span><span class="token operator">=</span>checkwinsize:cmdhist:expand_aliases:extglob:extquote:force_fignore:histappend:interactive_comments:login_shell:progcomp:promptvars:sourcepath
<span class="token assign-left variable"><span class="token environment constant">BASH_ALIASES</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token assign-left variable"><span class="token environment constant">BASH_ARGC</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token assign-left variable"><span class="token environment constant">BASH_ARGV</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义变量" tabindex="-1"><a class="header-anchor" href="#自定义变量" aria-hidden="true">#</a> 自定义变量</h3><blockquote><p>定义变量：变量名=变量值， = 前后不能使用空格。</p><p>撤销变量：unset 变量名。</p><p>声明静态变量：readonly 变量，注意：不能 unset。</p><p><code>读取变量：$变量名，${特殊变量名}</code></p><p>变量定义规则 ：</p><ol><li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。</li><li>等号两侧不能有空格。</li><li>在 bash 中，变量默认类型都是字符串类型，无法直接进行数值运算。</li><li>变量的值如果有空格，需要使用双引号或单引号括起来。</li></ol></blockquote><blockquote><p>注释说明：</p><p># 单行注释</p><p>:&gt;&gt;! 多行注释 !</p></blockquote><p>示例：变量的赋值及修改</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># A = 1</span>
bash: A: 未找到命令<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># A=1</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $A</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># A=2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $A</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># unset A</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $A</span>

<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># readonly B=2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $B</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># unset B</span>
-bash: unset: B: 无法反设定: 只读 variable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">[ ]/</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mclose">]</span><span class="mord">/</span></span></span></span>( )/$(( ))</h3><p>在 bash 中，变量默认类型都是字符串类型，无法直接进行数值运算。</p><p><strong>如果要参与数值运算：</strong></p><p>方式一：$((表达式))</p><p>方式二：$[表达式]</p><p><strong>将命令的返回值赋值给变量</strong></p><p><strong>A=`ls -la` 将命令的结果赋值返回给变量A</strong></p><p><strong>A=$(ls -la)等价于反引号</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># C=1+2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $C</span>
<span class="token number">1</span>+2
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># C=$(1+2)</span>
bash: <span class="token number">1</span>+2: 未找到命令<span class="token punctuation">..</span>.
<span class="token comment"># 方式一</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># C=$((1+2))</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $C</span>
<span class="token number">3</span>
<span class="token comment"># 方式二</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># C=$[1+2]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $C</span>
<span class="token number">3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>变量的值如果有空格，需要使用双引号或单引号括起来。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># D=Hello World</span>
bash: World: 未找到命令<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># D=&#39;Hello World&#39;</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $D</span>
Hello World
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>export 可把变量提升为全局环境变量，可供其他 Shell 程序使用。</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># export D</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># bash</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ps -f</span>
<span class="token environment constant">UID</span>         PID   <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMD
root       <span class="token number">9873</span>   <span class="token number">9865</span>  <span class="token number">0</span> 08:34 pts/4    00:00:00 <span class="token parameter variable">-bash</span>
root      <span class="token number">10819</span>   <span class="token number">9873</span>  <span class="token number">0</span> 09:54 pts/4    00:00:00 <span class="token function">bash</span>
root      <span class="token number">10855</span>  <span class="token number">10819</span>  <span class="token number">0</span> 09:54 pts/4    00:00:00 <span class="token function">ps</span> <span class="token parameter variable">-f</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $D</span>
Hello World
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>子 shell 不会改变全局变量。</p><p><strong>示例：(使用 &quot;.&quot; / source会在当前 bash 中执行，将变量导出后才能在子 shell 中使用)</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># E=&#39;Hello Shell&#39;</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim helloworld.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;Hello World&#39;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$E</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./helloworld.sh</span>
Hello World

<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># . helloworld.sh</span>
Hello World
Hello Shell
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># export E</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./helloworld.sh</span>
Hello World
Hello Shell
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>将命令的返回值赋值给变量</strong></p><p><strong>A=`ls -la` 将命令的结果赋值返回给变量A</strong></p><p><strong>A=$(ls -la)等价于反引号</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># R=`ls -a /`</span>
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># echo $R</span>
<span class="token builtin class-name">.</span> <span class="token punctuation">..</span> bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># R=$(ls -a /)</span>
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># echo $R</span>
<span class="token builtin class-name">.</span> <span class="token punctuation">..</span> bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="特殊变量" tabindex="-1"><a class="header-anchor" href="#特殊变量" aria-hidden="true">#</a> 特殊变量</h3><p>$PATH：环境变量</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># helloworld.sh</span>
bash: helloworld.sh: 未找到命令<span class="token punctuation">..</span>.
<span class="token comment"># 不建议直接拷贝.sh文件到/bin目录</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># cp helloworld.sh /bin/</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># helloworld.sh</span>
Hello World
Hello Shell
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># rm -rf /bin/helloworld.sh</span>
<span class="token comment"># 输出环境变量</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="位置参数" tabindex="-1"><a class="header-anchor" href="#位置参数" aria-hidden="true">#</a> 位置参数</h3><h4 id="n-位置参数" tabindex="-1"><a class="header-anchor" href="#n-位置参数" aria-hidden="true">#</a> $n 位置参数</h4><p>​ <code>$n 功能描述：n 为数字，$0 代表该脚本名称，$1-$9 代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如 ${10}。</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim parameter.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;====位置参数====&#39;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$0</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$1</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># chmod +x parameter.sh</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./parameter.sh p1 p2</span>
<span class="token operator">==</span><span class="token operator">==</span>位置参数<span class="token operator">==</span><span class="token operator">==</span>
parameter.sh
p1
p2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="参数个数" tabindex="-1"><a class="header-anchor" href="#参数个数" aria-hidden="true">#</a> $# 参数个数</h4><p>​ $# 功能描述：获取所有输入参数个数，常用于循环，判断参数的个数是否正确。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim parameter.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;====位置参数====&#39;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$1</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$2</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;====参数个数====&#39;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$#</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./parameter.sh a b c</span>
<span class="token operator">==</span><span class="token operator">==</span>位置参数<span class="token operator">==</span><span class="token operator">==</span>
a
b
<span class="token operator">==</span><span class="token operator">==</span>参数个数<span class="token operator">==</span><span class="token operator">==</span>
<span class="token number">3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="与-具体参数" tabindex="-1"><a class="header-anchor" href="#与-具体参数" aria-hidden="true">#</a> $* 与 $@ 具体参数</h4><pre><code> `$* （功能描述：这个变量代表命令行中所有的参数，$* 把所有的参数看成一个整体）`
</code></pre><p>​ <code>$@ （功能描述：这个变量也代表命令行中所有的参数，不过 $@ 把每个参数区分对待）</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim parameter.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;位置变量：&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$1</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$2</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数个数：&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$#</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;变量$*：&#39;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$*</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;变量$@：&#39;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$@</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./parameter.sh a b c</span>
位置变量：
a
b
参数个数：
<span class="token number">3</span>
变量<span class="token variable">$*</span>：
a b c
变量<span class="token variable">$@</span>：
a b c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="预定义变量" tabindex="-1"><a class="header-anchor" href="#预定义变量" aria-hidden="true">#</a> 预定义变量</h3><p>​ Shell 事先已经定义好的变量，可以直接在shell脚本中使用。</p><table><thead><tr><th style="text-align:center;"></th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>$$</strong></td><td><strong>当前进程的进程号(PID)</strong></td></tr><tr><td style="text-align:center;"><strong>$!</strong></td><td>后台运行的最后一个进程的进程号(PID)</td></tr><tr><td style="text-align:center;"><strong>$?</strong></td><td>最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0 (具体是哪个数，由命令自己来决定)，则证明上一个命令执行不正确了。</td></tr></tbody></table><p><strong>$? 命令状态</strong></p><p>​ $？ （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则上一个命令执行错误）。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># parameter.sh</span>
bash: parameter.sh: 未找到命令<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">127</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="运算符" tabindex="-1"><a class="header-anchor" href="#运算符" aria-hidden="true">#</a> 运算符</h2><p>基本语法：</p><p>方式一：expr 参数1，参数2，......【不推荐】</p><p>expr 会将后面的内容当作参数，注意：需要使用空格分开</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># expr 1+2</span>
<span class="token number">1</span>+2
<span class="token comment"># 传入三个参数, 1,+,2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># expr 1 + 2</span>
<span class="token number">3</span>
<span class="token comment"># * 表示通配符，需要进行转义</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># expr 1 * 2</span>
expr: 语法错误
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># expr 1 \* 2</span>
<span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方式二：$((运算式)) 或 $[运算式]</p><p>示例：计算（2+3）* 4 的值</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $(((2+3)*4))</span>
<span class="token number">20</span>
<span class="token comment"># 推荐使用</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $[(2+3)*4]</span>
<span class="token number">20</span>
<span class="token comment"># 空格不影响</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># A=$[ ( 2 + 3 ) * 4]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $A</span>
<span class="token number">20</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方式三：使用变量接收 expr 命令的值：<strong>（命令替换）</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># B=&quot;expr 1 + 2&quot;</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $B</span>
<span class="token function">expr</span> <span class="token number">1</span> + <span class="token number">2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># B=$(expr 1 \* 2)</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $B</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># B=`expr 2 \* 3`</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $B</span>
<span class="token number">6</span>
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># R=$(ls -a /)</span>
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># echo $R</span>
<span class="token builtin class-name">.</span> <span class="token punctuation">..</span> bin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：<a href="http://xn--add-y11em39r.sh" target="_blank" rel="noopener noreferrer">编写add.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，输出两数之和。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim add.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$1</span>+<span class="token variable">$2</span><span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable">$sum</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># chmod +x add.sh</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./add.sh 2 3</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="条件判断" tabindex="-1"><a class="header-anchor" href="#条件判断" aria-hidden="true">#</a> 条件判断</h2><h3 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法" aria-hidden="true">#</a> 基本语法</h3><blockquote><p>方式一：test condition（如果 condition 有值则为 true）</p><p>方式二：[ condition ]（注意 condition 前后要有空格，<strong>条件非空即为 true，否则为 false</strong>）</p><p>​ 非空返回 true，可以使用 $? 进行验证，0 为 true，1 为 false。</p><p>​ [ condition ] &amp;&amp; echo ok || echo notok 条件满足，执行后面的语句。</p><p>使用 [ condition ] 替换 test condition</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># a=hello</span>
<span class="token comment"># 如果=前后没有空格，就会被当作一个整体，会返回true</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># test $a=hello</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># test $a = hello</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># test $a=Hello</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token comment"># = 前后必须有空格</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># test $a = Hello</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
<span class="token comment"># 使用 [ condition ] 代替test condition</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ $a = abc ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
<span class="token comment"># 必须有空格，$a=hello被当作一个字符串了</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ $a=abc ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ abcd ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [  ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常用判断条件" tabindex="-1"><a class="header-anchor" href="#常用判断条件" aria-hidden="true">#</a> 常用判断条件</h3><blockquote><p>（1）两个整数之间比较</p><p>​ 注意：使用 &gt; 会重定向，但在 for 循环语句中不会，可以使用</p><ul><li>-eq 等于（equal）</li><li>-ne 不等于（not equal）</li><li>-lt 小于（less than）</li><li>-le 小于等于（less equal）</li><li>-gt 大于（greater than）</li><li>-ge 大于等于（greater equal）</li></ul><p>注意：如果是字符串之间的比较 ，用等号 &quot;=&quot; 判断相等；用 &quot;!=&quot; 判断不等于</p><p>（2）按照文件权限进行判断</p><ul><li>-r 有读的权限（read）</li><li>-w 有写的权限（write）</li><li>-x 有执行的权限（execute）</li></ul><p>（3）按照文件类型进行判断</p><ul><li><p>-e 文件存在（existence）</p></li><li><p>-f 文件存在并且是一个常规的文件（file）</p></li><li><p>-d 文件存在并且是一个目录（directory）</p><p>(4) 多条件判断</p></li></ul><p>​ &amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一条命令执行失败后，才执行下一条命令</p></blockquote><p>示例一：判断整数大小关系</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ 2 = 3 ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ 2 = 2 ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># A=hello</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ $A = abc ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ $A=abc ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token comment"># 2 会输出重定向到文件 3 中</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ 2  &gt;  3 ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">12</span>
-rw-r--r--. <span class="token number">1</span> root root   <span class="token number">0</span> <span class="token number">4</span>月  <span class="token number">24</span> <span class="token number">11</span>:25 <span class="token number">3</span>
-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">39</span> <span class="token number">4</span>月  <span class="token number">24</span> <span class="token number">10</span>:59 add.sh
-rwxr-xr-x. <span class="token number">1</span> root root  <span class="token number">39</span> <span class="token number">4</span>月  <span class="token number">24</span> 09:59 helloworld.sh
-rwxr-xr-x. <span class="token number">1</span> root root <span class="token number">161</span> <span class="token number">4</span>月  <span class="token number">24</span> <span class="token number">10</span>:37 parameter.sh
<span class="token punctuation">[</span>root@localhost shell<span class="token punctuation">]</span><span class="token comment"># [ 2 &lt; 3 ]</span>
-bash: <span class="token number">3</span>: 没有那个文件或目录
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ 2 -lt 3 ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例二：判断文件权限</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># touch test</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ -x test ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ -x helloworld.sh ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例三：判断文件类型</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ -d test ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ -f test ]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># echo $?</span>
<span class="token number">0</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例四：多条件判断（&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一条命令执行失败后，才执行下一条命令）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ condition ] &amp;&amp; echo ok ||echo error</span>
ok
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [  ] &amp;&amp; echo ok ||echo error</span>
error
<span class="token comment"># 示例2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># A=18</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ $A -le 20 ] &amp;&amp; echo &quot;$A &lt;= 20&quot; || echo &quot;$A &gt;= 20&quot;</span>
<span class="token number">18</span> <span class="token operator">&lt;=</span> <span class="token number">20</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># A=25</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># [ $A -le 20 ] &amp;&amp; echo &quot;$A &lt;= 20&quot; || echo &quot;$A &gt;= 20&quot;</span>
<span class="token number">25</span> <span class="token operator">&gt;=</span> <span class="token number">20</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="流程控制" tabindex="-1"><a class="header-anchor" href="#流程控制" aria-hidden="true">#</a> 流程控制</h2><h3 id="if-判断" tabindex="-1"><a class="header-anchor" href="#if-判断" aria-hidden="true">#</a> if 判断</h3><p>（1）单分支</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ;表示语句在一行,如cd /etc;ls</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> 条件 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	程序
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件 <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	程序
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（2）多分支</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	程序
<span class="token keyword">elif</span> <span class="token punctuation">[</span> 条件 <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	程序
<span class="token keyword">else</span>
	程序
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意事项：</p><ul><li><p>[ 条件判断式 ]，中括号和条件判断式之间必须有空格</p></li><li><p>if 后要有空格</p></li></ul><p>​ 可以使用 exit 退出判断</p><p>示例：根据输出的数判断大小</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim if.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-eq</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> 等于 2&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-lt</span> <span class="token number">2</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> 小于 2&quot;</span>
<span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> 大于 2&quot;</span>
<span class="token keyword">fi</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># chmod +x if.sh</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./if.sh 3</span>
<span class="token number">3</span> 大于 <span class="token number">2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./if.sh 1</span>
<span class="token number">1</span> 小于 <span class="token number">2</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./if.sh 2</span>
<span class="token number">2</span> 等于 <span class="token number">2</span>
<span class="token comment"># 如果不传递参数</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token parameter variable">-eq</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> 等于 2&quot;</span>
<span class="token keyword">fi</span>
<span class="token comment"># 也可以写在一行</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># a=19</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># if [ $a -ge 18 ] &amp;&amp; [ $a -le 20 ];then echo ok;fi</span>
ok
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># a=21</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># if [ $a -ge 18 ] &amp;&amp; [ $a -le 20 ];then echo ok;fi</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="case-语句" tabindex="-1"><a class="header-anchor" href="#case-语句" aria-hidden="true">#</a> case 语句</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">case</span> $变量名 <span class="token keyword">in</span>
<span class="token string">&quot;值 1&quot;</span><span class="token punctuation">)</span>
	如果变量的值等于值 <span class="token number">1</span>，则执行程序 <span class="token number">1</span>, 对于数字可以省略引号
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">&quot;值 2&quot;</span><span class="token punctuation">)</span>
	如果变量的值等于值 <span class="token number">2</span>，则执行程序 <span class="token number">2</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
	<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>其他分支<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
*<span class="token punctuation">)</span>
	如果变量的值都不是以上的值，则执行此程序
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注意事项：</strong></p><p>（1）case 行尾必须为单词 &quot;in&quot;，每一个模式匹配必须以右括号 &quot;)&quot; 结束。</p><p>（2）双分号 &quot;;;&quot; 表示命令序列结束，相当于 java 中的 break。</p><p>（3）最后的 &quot;*)&quot; 表示默认模式，相当于 java 中的 default。</p></blockquote><p>示例：输入一个数进行判断</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root etc<span class="token punctuation">]</span><span class="token comment"># vim case.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>
<span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> success
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> warning
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
        <span class="token builtin class-name">echo</span> error
<span class="token keyword">esac</span>
<span class="token punctuation">[</span>root@root etc<span class="token punctuation">]</span><span class="token comment"># chmod +x case.sh</span>
<span class="token punctuation">[</span>root@root etc<span class="token punctuation">]</span><span class="token comment"># ./case.sh 1</span>
success
<span class="token punctuation">[</span>root@root etc<span class="token punctuation">]</span><span class="token comment"># ./case.sh 2</span>
warning
<span class="token punctuation">[</span>root@root etc<span class="token punctuation">]</span><span class="token comment"># ./case.sh 3</span>
error
<span class="token punctuation">[</span>root@root etc<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="for循环" tabindex="-1"><a class="header-anchor" href="#for循环" aria-hidden="true">#</a> for循环</h3><p>语法一：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> 初始值<span class="token punctuation">;</span>循环控制条件<span class="token punctuation">;</span>变量变化 <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
程序
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>语法二：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 值 <span class="token number">1</span> 值 <span class="token number">2</span> 值 <span class="token number">3</span>…
<span class="token keyword">do</span>
程序
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>{1..100} 表示序列</strong></p><p>示例：1+2+......+100</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim for01.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token comment"># 此处使用(())，可以使用&lt;==,&lt;，不是重定向</span>
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
        <span class="token assign-left variable">sum</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$sum</span>+<span class="token variable">$i</span><span class="token punctuation">]</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$sum</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># chmod +x for01.sh</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./for01.sh</span>
<span class="token number">5050</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：结合 $* 和 $@ 使用，如果不加引号，则控制台输出没有区别。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># {1..100}表示序列</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># for i in {1..100};do sum=$[$sum+$i];done;echo $sum;</span>
<span class="token number">5050</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim for02.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># $*和$@都表示传递给函数或脚本的所有参数，不被双引号 &quot;&quot; 包含时，都以$1 $2 …$n的形式输出所有参数</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;======不使用引号========&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;$*: &#39;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">para</span> <span class="token keyword">in</span> <span class="token variable">$*</span>
<span class="token keyword">do</span>
        <span class="token builtin class-name">echo</span> <span class="token variable">$para</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&#39;$@: &#39;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">para</span> <span class="token keyword">in</span> <span class="token variable">$@</span>
<span class="token keyword">do</span>
        <span class="token builtin class-name">echo</span> <span class="token variable">$para</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;======使用引号========&quot;</span>
<span class="token comment"># 添加引号</span>
<span class="token comment"># 当它们被双引号 &quot;&quot; 包含时，$*会将所有的参数作为一个整体，以 &quot;$1 $2...$n&quot; 的形式输出所有参数；$@会将各个参数分开，以&quot;$1&quot; &quot;$2&quot;...&quot;$n&quot;的形式输出所有参数。</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;$*: &#39;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">para</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span>
<span class="token keyword">do</span>
        <span class="token builtin class-name">echo</span> <span class="token variable">$para</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&#39;$@: &#39;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">para</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token keyword">do</span>
        <span class="token builtin class-name">echo</span> <span class="token variable">$para</span>
<span class="token keyword">done</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># chmod 777 for02.sh</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./for02.sh a b c</span>
<span class="token variable">$*</span><span class="token builtin class-name">:</span>
a
b
c
<span class="token variable">$@</span><span class="token builtin class-name">:</span>
a
b
c
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>使用引号<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token variable">$*</span><span class="token builtin class-name">:</span>
a b c
<span class="token variable">$@</span><span class="token builtin class-name">:</span>
a
b
c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="while循环" tabindex="-1"><a class="header-anchor" href="#while循环" aria-hidden="true">#</a> while循环</h3><p>基本语法</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">while</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
<span class="token keyword">do</span>
程序
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：1+2+......+100</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim while.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$count</span> <span class="token parameter variable">-lt</span> <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
        <span class="token assign-left variable">sum</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$sum</span>+<span class="token variable">$count</span><span class="token punctuation">]</span>
        <span class="token assign-left variable">count</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$count</span>+1<span class="token punctuation">]</span>
        <span class="token comment"># 也可以采用let</span>
        <span class="token comment"># let sum+=count</span>
        <span class="token comment"># let count++</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;count: <span class="token variable">$count</span>, sum: <span class="token variable">$sum</span>&quot;</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./while.sh</span>
count: <span class="token number">100</span>, sum: <span class="token number">5050</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="read-读取控制台输入" tabindex="-1"><a class="header-anchor" href="#read-读取控制台输入" aria-hidden="true">#</a> read 读取控制台输入</h2><blockquote><p>基本语法</p><p>read (选项) (参数)</p><p>选项：</p><p>​ -p：指定读取值时的提示符；</p><p>​ -t：指定读取值时等待的时间（秒）如果不加 -t 表示一直等待</p><p>参数变量：指定读取值的变量名</p></blockquote><p>示例：提示 7 秒内，读取控制台输入的名称</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim read.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-t</span> <span class="token number">7</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入内容: &quot;</span> R
<span class="token builtin class-name">echo</span> <span class="token variable">$R</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># chmod +x read.sh</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./read.sh</span>
请输入内容: root
root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="函数" tabindex="-1"><a class="header-anchor" href="#函数" aria-hidden="true">#</a> 函数</h2><h3 id="系统函数" tabindex="-1"><a class="header-anchor" href="#系统函数" aria-hidden="true">#</a> 系统函数</h3><blockquote><p><strong>basename</strong></p><p>basename [string / pathname] [suffix]</p><p>basename 命令会删掉所有的前缀包括最后一个 &quot;/&quot; 字符，然后将字符串显示出来。</p><p>basename 可以理解为：取路径里的文件名称。</p><p>选项： suffix 为后缀，如果 suffix 被指定，basename 会将 pathname 或 string 中的 suffix 去掉。</p></blockquote><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># basename /root/shell/read.sh</span>
read.sh
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># basename /root/shell/read.sh .sh</span>
<span class="token builtin class-name">read</span>
<span class="token comment"># 获取当前脚本所在路径, $0 代表该脚本名称</span>
<span class="token comment"># basename $0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>dirname</strong></p><p>dirname 文件绝对路径</p><p>获取文件路径的绝对路径名称</p></blockquote><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># dirname /root/shell/read.sh</span>
/root/shell
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义函数" tabindex="-1"><a class="header-anchor" href="#自定义函数" aria-hidden="true">#</a> 自定义函数</h3><p>基本语法</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 定义</span>
<span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> funname<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">{</span>
	Action<span class="token punctuation">;</span>
	<span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment"># 使用$(接收返回的值)</span>
funname param1 param2<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（1）必须在调用函数地方之前，先声明函数，shell 脚本是逐行运行。不会像其它语言一样先编译。</p><p>（2）函数返回值，只能通过 $? 系统变量获得，可以显式加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。return 后跟数值 n(0-255)</p><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># vim fun.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">function</span> <span class="token function-name function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token assign-left variable">s</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$1</span>+<span class="token variable">$2</span><span class="token punctuation">]</span>
        <span class="token builtin class-name">echo</span> <span class="token variable">$s</span>
<span class="token punctuation">}</span>

<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;please input number1: &quot;</span> num1
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;please input number2: &quot;</span> num2
<span class="token comment"># 使用$(接收返回的值)</span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">add</span> $num1 $num2<span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;sum: &quot;</span><span class="token variable">$sum</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;square: &quot;</span>$<span class="token punctuation">[</span><span class="token variable">$sum</span> * <span class="token variable">$sum</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ./fun.sh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="正则表达式" tabindex="-1"><a class="header-anchor" href="#正则表达式" aria-hidden="true">#</a> 正则表达式</h2><p>​ 正则表达式使用单个字符串来描述、匹配一系列符合某个语法规则的字符串。在很多文本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。在 Linux 中，<strong>grep，sed，awk</strong> 等文本处理工具都支持通过正则表达式进行模式匹配。</p><p>示例：匹配 /etc/passwd/ 下的所有包含bash的行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd |grep bash</span>
root:x:0:0:root:/root:/bin/bash
liufei:x:1000:1000:liufei:/home/liufei:/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常用的特殊字符" tabindex="-1"><a class="header-anchor" href="#常用的特殊字符" aria-hidden="true">#</a> 常用的特殊字符</h3><h4 id="匹配一行的开头" tabindex="-1"><a class="header-anchor" href="#匹配一行的开头" aria-hidden="true">#</a> ^：匹配一行的开头</h4><p>示例：以 a 开头</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd|grep ^a</span>
adm:x:3:4:adm:/var/adm:/sbin/nologin
abrt:x:173:173::/etc/abrt:/sbin/nologin
avahi:x:70:70:Avahi mDNS/DNS-SD Stack:/var/run/avahi-daemon:/sbin/nologin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="匹配一行的结束" tabindex="-1"><a class="header-anchor" href="#匹配一行的结束" aria-hidden="true">#</a> $：匹配一行的结束</h4><p>示例：以 t 结束</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd|grep t$</span>
halt:x:7:0:halt:/sbin:/sbin/halt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="点-匹配一个任意的字符" tabindex="-1"><a class="header-anchor" href="#点-匹配一个任意的字符" aria-hidden="true">#</a> 点 <strong>.</strong> ：匹配一个任意的字符</h4><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd|grep r..t</span>
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="匹配0次或多次" tabindex="-1"><a class="header-anchor" href="#匹配0次或多次" aria-hidden="true">#</a> *：匹配0次或多次</h4><p>​ 不单独使用，它和上一个字符连用，表示匹配上一个字符 0 次或多次。</p><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd|grep ro*t</span>
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="匹配某个范围内的一个字符" tabindex="-1"><a class="header-anchor" href="#匹配某个范围内的一个字符" aria-hidden="true">#</a> [ ]：匹配某个范围内的一个字符</h4><p>[ ] 表示匹配某个范围内的<strong>一个字符</strong>，例如</p><p>[6,8] 匹配 6 或者 8</p><p>[0-9] 匹配一个 0-9 的数字</p><p>[0-9]* 匹配任意长度的数字字符串</p><p>[a-z]* 匹配任意长度 a-z 之间的字符</p><p>[a-z] 匹配任意长度的字母字符串</p><p>[a-c, e-f] 匹配 a-c 或者 e-f 之间的任意字符</p><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd|grep r[a,b,c]*t</span>
operator:x:11:0:operator:/root:/sbin/nologin
abrt:x:173:173::/etc/abrt:/sbin/nologin
rtkit:x:172:172:RealtimeKit:/proc:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="转义字符" tabindex="-1"><a class="header-anchor" href="#转义字符" aria-hidden="true">#</a> \：转义字符</h4><p>​ \ 表示转义，并不会单独使用。匹配特殊字符，如 $ ^ 等。【需要使用单引号将表达式引起来】</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd|grep &#39;a\$b&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="文本处理工具" tabindex="-1"><a class="header-anchor" href="#文本处理工具" aria-hidden="true">#</a> 文本处理工具</h3><h4 id="grep" tabindex="-1"><a class="header-anchor" href="#grep" aria-hidden="true">#</a> grep</h4><p>​ 过滤文本的行</p><h4 id="cut" tabindex="-1"><a class="header-anchor" href="#cut" aria-hidden="true">#</a> cut</h4><p>​ 在文件中负责剪切数据用的。cut 命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段输出。</p><p>基本语法</p><p>​ cut [选项参数] filename</p><p>选项参数说明</p><table><thead><tr><th>选项参数</th><th>功能</th></tr></thead><tbody><tr><td>-f</td><td>列号，提取第几列</td></tr><tr><td>-d</td><td>分隔符，按照指定分隔符有进行分隔，默认分隔符是制表符</td></tr><tr><td>-c</td><td>按字符进行切割后加 n 表示取第几列 比如 -c 1</td></tr></tbody></table><p>示例：选取系统 PATH 变量值，第二个 : 后开始的所有路径。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># echo $PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
<span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># echo $PATH | cut -d &quot;:&quot; -f 3-</span>
/usr/sbin:/usr/bin:/root/bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：切割 ifconfig 后打印的 IP 地址。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># ifconfig</span>
ens33: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">416</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,BROADCAST,RUNNING,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.1.130  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.1.255
        inet6 fe80::46be:b086:81c7:b3b2  prefixlen <span class="token number">64</span>  scopeid 0x2<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>link<span class="token operator">&gt;</span>
        ether 00:0c:29:15:3a:b3  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets <span class="token number">40674</span>  bytes <span class="token number">3071986</span> <span class="token punctuation">(</span><span class="token number">2.9</span> MiB<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">14352</span>  bytes <span class="token number">1922281</span> <span class="token punctuation">(</span><span class="token number">1.8</span> MiB<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>

lo: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">7</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>UP,LOOPBACK,RUNNING<span class="token operator">&gt;</span>  mtu <span class="token number">65536</span>
        inet <span class="token number">127.0</span>.0.1  netmask <span class="token number">255.0</span>.0.0
        inet6 ::1  prefixlen <span class="token number">128</span>  scopeid 0x1<span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>host<span class="token operator">&gt;</span>
        loop  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Local Loopback<span class="token punctuation">)</span>
        RX packets <span class="token number">68</span>  bytes <span class="token number">5912</span> <span class="token punctuation">(</span><span class="token number">5.7</span> KiB<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">68</span>  bytes <span class="token number">5912</span> <span class="token punctuation">(</span><span class="token number">5.7</span> KiB<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>

virbr0: <span class="token assign-left variable">flags</span><span class="token operator">=</span><span class="token number">409</span><span class="token operator"><span class="token file-descriptor important">9</span>&lt;</span>UP,BROADCAST,MULTICAST<span class="token operator">&gt;</span>  mtu <span class="token number">1500</span>
        inet <span class="token number">192.168</span>.122.1  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.122.255
        ether <span class="token number">52</span>:54:00:0f:e3:ff  txqueuelen <span class="token number">1000</span>  <span class="token punctuation">(</span>Ethernet<span class="token punctuation">)</span>
        RX packets <span class="token number">0</span>  bytes <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>
        RX errors <span class="token number">0</span>  dropped <span class="token number">0</span>  overruns <span class="token number">0</span>  frame <span class="token number">0</span>
        TX packets <span class="token number">0</span>  bytes <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>
        TX errors <span class="token number">0</span>  dropped <span class="token number">0</span> overruns <span class="token number">0</span>  carrier <span class="token number">0</span>  collisions <span class="token number">0</span>

<span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># ifconfig ens33 |grep netmask |cut -d &quot; &quot; -f 10</span>
<span class="token number">192.168</span>.1.130
<span class="token punctuation">[</span>root@root archive<span class="token punctuation">]</span><span class="token comment"># ifconfig |grep netmask |cut -d &quot; &quot; -f 10</span>
<span class="token number">192.168</span>.1.130
<span class="token number">127.0</span>.0.1
<span class="token number">192.168</span>.122.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="awk" tabindex="-1"><a class="header-anchor" href="#awk" aria-hidden="true">#</a> awk</h4><blockquote><p>​ 一个强大的文本分析工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行分析处理。</p><h5 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法" aria-hidden="true">#</a> 基本用法</h5><p>​ awk [选项参数] <strong>&#39;/pattern1/{action1} /pattern2/{action2}......&#39; filename</strong></p><p>​ pattern：表示 awk 在数据中查找的内容，就是匹配模式</p><p>​ action：在找到匹配内容时所执行的一系列命令</p><p>选项参数说明</p><p>​ -F 指定输入文件分隔符</p><p>​ -v 赋值一个用户定义变量</p></blockquote><p>示例：搜索 passwd 文件以 root 关键字开头的所有行，并输出该行的第7 列。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># awk -F : &#39;/^root/{print $7}&#39; /etc/passwd</span>
/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：搜索 passwd 文件以 root 关键字开头的所有行，并输出该行的第1 列和第7 列，中间以 &quot;,&quot; 号分割</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># awk -F : &#39;/^root/{print $1&quot;,&quot;$7}&#39; /etc/passwd</span>
root,/bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：只显示/etc/passwd 的第一列和第七列，以逗号分割，且在所有行前面添加列名user，shell 在最后一行添加&quot;end， shell&quot;。</p><p>注意：BEGIN 在所有数据读取行之前执行；END 在所有数据执行之后执行。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># awk -F : &#39;BEGIN{print &quot;user,shell&quot;} {print $1&quot;,&quot;$7} END{print &quot;shell end&quot;}&#39; /etc/passwd</span>
user,shell
root,/bin/bash
bin,/sbin/nologin
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
liufei,/bin/bash
mysql,/bin/false
shell end
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：将 passwd 文件中的用户 id 增加数值 1 并输出。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># awk -F : -v i=1 &#39;{print $3+i}&#39; /etc/passwd</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token number">100</span>
<span class="token number">193</span>
<span class="token number">82</span>
<span class="token number">1000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="awk-的内置变量" tabindex="-1"><a class="header-anchor" href="#awk-的内置变量" aria-hidden="true">#</a> awk 的内置变量</h5><table><thead><tr><th>变量</th><th>说明</th></tr></thead><tbody><tr><td>FILENAME</td><td>文件名</td></tr><tr><td>NR</td><td>已读的记录数（行号）</td></tr><tr><td>NF</td><td>浏览记录的域的个数（切割后，列的个数）</td></tr></tbody></table><p>示例：统计 passwd 文件名，每行的行号，每行的列数。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># awk -F : &#39;{print &quot;filename: &quot;FILENAME&quot;, lineNum: &quot;NR&quot;, column: &quot;NF}&#39; /etc/passwd</span>
filename: /etc/passwd, lineNum: <span class="token number">1</span>, column: <span class="token number">7</span>
filename: /etc/passwd, lineNum: <span class="token number">2</span>, column: <span class="token number">7</span>
filename: /etc/passwd, lineNum: <span class="token number">3</span>, column: <span class="token number">7</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：查询 ifconfig 命令输出结果中的空行所在的行号。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ifconfig |awk &#39;/^$/{print NR}&#39;</span>
<span class="token number">9</span>
<span class="token number">18</span>
<span class="token number">26</span>	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：切割IP，默认以空格分割</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># ifconfig |awk &#39;/netmask/{print $2}&#39;</span>
<span class="token number">192.168</span>.1.130
<span class="token number">127.0</span>.0.1
<span class="token number">192.168</span>.122.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="shell示例" tabindex="-1"><a class="header-anchor" href="#shell示例" aria-hidden="true">#</a> Shell示例</h2><h3 id="文件归档" tabindex="-1"><a class="header-anchor" href="#文件归档" aria-hidden="true">#</a> 文件归档</h3><p>示例：</p><p>​ 实现一个每天对指定目录归档备份的脚本，输入一个目录名称（末尾不带/），将目录下所有文件按天归档保存，并将</p><p>归档日期附加在归档文件名上，放在 /opt/shell/archive 下。这里用到了归档命令：tar 后面可以加上 -c 选项表示归档，</p><p>加上 -z 选项表示同时进行压缩，得到的文件后缀名为.tar.gz。 archive .sh 脚本实现如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 首先判断输入参数个数是否为1</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-ne</span> <span class="token number">1</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数个数错误！应该输入一个参数，作为归档目录名&quot;</span>
	<span class="token builtin class-name">exit</span>
<span class="token keyword">fi</span>

<span class="token comment"># 从参数中获取目录名称</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> <span class="token variable">$1</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;目录存在！&quot;</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;目录不存在！&quot;</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">exit</span>
<span class="token keyword">fi</span>

<span class="token assign-left variable">DIR_NAME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> $1<span class="token variable">)</span></span>
<span class="token assign-left variable">DIR_PATH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">cd</span> <span class="token punctuation">$(</span>dirname $1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>

<span class="token comment"># 获取当前日期</span>
<span class="token assign-left variable">DATE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d<span class="token variable">)</span></span>
<span class="token comment"># 定义生成的归档文件名称</span>
<span class="token assign-left variable">DEST_PATH</span><span class="token operator">=</span>/opt/shell/archive
<span class="token assign-left variable">FILE</span><span class="token operator">=</span>archive_<span class="token variable">${DIR_NAME}</span>_<span class="token variable">$DATE</span>.tar.gz
<span class="token assign-left variable">DEST</span><span class="token operator">=</span><span class="token variable">$DEST_PATH</span>/<span class="token variable">$FILE</span>

<span class="token comment"># 开始归档目录文件</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始归档...&quot;</span>
<span class="token builtin class-name">echo</span>

<span class="token function">tar</span> <span class="token parameter variable">-czf</span> <span class="token variable">$DEST</span> <span class="token variable">$DIR_PATH</span>/<span class="token variable">$DIR_NAME</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;归档成功！&quot;</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;归档文件为：<span class="token variable">$DEST</span>&quot;</span>
	<span class="token builtin class-name">echo</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;归档出现问题！&quot;</span>
	<span class="token builtin class-name">echo</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">exit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据库备份" tabindex="-1"><a class="header-anchor" href="#数据库备份" aria-hidden="true">#</a> 数据库备份</h3><ol><li><p>每天凌晨 2:10 备份数据库 testDB 到/data/backup/db</p></li><li><p>备份开始和备份结束能够给出相应的提示信息</p></li><li><p>备份后的文件要求以备份时间为文件名，并打包成 tar.gz. 的形式，比如：2018-03-12_ 230201.tar.gz</p></li><li><p>在备份的同时，检查是否有 10 天前备份的数据库文件，如果有就将其删除</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">BACKUP</span><span class="token operator">=</span>/opt/shell/backup/db
<span class="token assign-left variable">DATETIME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y_%m_%d_%H%M%S<span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;开始备份...&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;备份路径为：<span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>.tar.gz&quot;</span>
<span class="token assign-left variable">HOST</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1
<span class="token assign-left variable">DB_USER</span><span class="token operator">=</span>root
<span class="token assign-left variable">DB_PWD</span><span class="token operator">=</span>root
<span class="token comment"># 数据库名</span>
<span class="token assign-left variable">DATABASE</span><span class="token operator">=</span>test
<span class="token comment"># 没有目录则创建</span>
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;<span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>&quot;</span>
<span class="token comment"># MySQL备份数据库的指令</span>
mysqldump -u<span class="token variable">${DB_USER}</span> -p<span class="token variable">${DB_PWD}</span> <span class="token parameter variable">--host</span><span class="token operator">=</span><span class="token variable">$HOST</span> <span class="token variable">$DATEBASE</span> <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> <span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>/<span class="token variable">$DATETIME</span>.sql.gz

<span class="token builtin class-name">cd</span> <span class="token variable">$BACKUP</span>
<span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> <span class="token variable">$DATETIME</span>.tar.gz <span class="token variable">$DATETIME</span>

<span class="token comment"># 删除临时目录</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>

<span class="token comment"># 删除10天前的备份文件，{} \ 固定写法</span>
<span class="token function">find</span> <span class="token variable">$BACKUP</span> <span class="token parameter variable">-mtime</span> +10 <span class="token parameter variable">-name</span> <span class="token string">&quot;*.tar.gz&quot;</span> <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;备份成功&quot;</span>

<span class="token comment"># 0 2 * * * /usr/sbin/mysql_db_backup.sh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="文件分发脚本" tabindex="-1"><a class="header-anchor" href="#文件分发脚本" aria-hidden="true">#</a> 文件分发脚本</h3><p>批量进行跨机器间的文件（含文件夹）传输</p><blockquote><ul><li>创建脚本 <a href="http://xsync.sh" target="_blank" rel="noopener noreferrer">xsync.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，传入要传输的目录名</li><li>shell脚本要求具有执行权限：chmod +x xsync</li><li>shell脚本保存在 /usr/bin 这样的目录下，以使命令全局有效</li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 判断参数个数</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-lt</span> <span class="token number">1</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;Not Enough Arguments&quot;</span>
	<span class="token builtin class-name">exit</span>
<span class="token keyword">fi</span>
<span class="token comment"># 遍历所有主机</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">host</span> <span class="token keyword">in</span> <span class="token number">192.168</span>.100.100 <span class="token number">192.168</span>.100.110 <span class="token number">192.168</span>.100.120
<span class="token keyword">do</span>
	<span class="token builtin class-name">echo</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token variable">$host</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
	<span class="token comment"># 遍历所有目录</span>
	<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> <span class="token variable">$@</span>
	<span class="token keyword">do</span>
		<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-e</span> <span class="token variable">$file</span> <span class="token punctuation">]</span>
		<span class="token keyword">then</span>
			<span class="token comment"># 如果文件存在，获取父目录，</span>
			<span class="token comment"># pwd -P：如果目录是链接时，显示出实际路径，而非使用连接（link）路径。pwd 防止传入相对路径</span>
			<span class="token comment"># cd -P:如果目录是链接时，切换到实际路径的目录。</span>
			<span class="token assign-left variable">pdir</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">cd</span> <span class="token parameter variable">-P</span> <span class="token punctuation">$(</span>dirname $file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>
			<span class="token comment"># 获取文件名称</span>
			<span class="token assign-left variable">filename</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> $file<span class="token variable">)</span></span>
			<span class="token function">ssh</span> <span class="token variable">$host</span> <span class="token string">&quot;mkdir -p <span class="token variable">$pdir</span>&quot;</span>
			<span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token variable">$pdir</span>/<span class="token variable">$filename</span> <span class="token variable">$host</span><span class="token builtin class-name">:</span><span class="token variable">$pdir</span>
		<span class="token keyword">else</span>
			<span class="token builtin class-name">echo</span> <span class="token variable">$file</span> not exist<span class="token operator">!</span>
		<span class="token keyword">fi</span>
	<span class="token keyword">done</span>
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># chmod +x xsync.sh</span>
<span class="token punctuation">[</span>root@root shell<span class="token punctuation">]</span><span class="token comment"># cp xsync.sh /usr/bin</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看所有-jps-进程" tabindex="-1"><a class="header-anchor" href="#查看所有-jps-进程" aria-hidden="true">#</a> 查看所有 JPS 进程</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">host</span> <span class="token keyword">in</span> <span class="token number">192.168</span>.100.100 <span class="token number">192.168</span>.100.110 <span class="token number">192.168</span>.100.120
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token variable">$host</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
    <span class="token function">ssh</span> <span class="token variable">$host</span> jps <span class="token variable">$@</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> Jps
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="zookeeper-启动停止脚本" tabindex="-1"><a class="header-anchor" href="#zookeeper-启动停止脚本" aria-hidden="true">#</a> Zookeeper 启动停止脚本</h3><blockquote><p>启动 Zookeeper 集群，脚本位置：/home/xxxx/bin</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>
<span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token for-or-select variable">host</span> <span class="token keyword">in</span> <span class="token number">192.168</span>.100.100 <span class="token number">192.168</span>.100.110 <span class="token number">192.168</span>.100.120
	<span class="token keyword">do</span>
		<span class="token builtin class-name">echo</span> <span class="token string">&quot;========zookeeper <span class="token variable">$host</span> start========&quot;</span>
		<span class="token function">ssh</span> <span class="token variable">$host</span> <span class="token string">&quot;/opt/zookeeper/zookeeper-3.5.7/bin/zkServer.sh start&quot;</span>
	<span class="token keyword">done</span>
<span class="token punctuation">}</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token for-or-select variable">host</span> <span class="token keyword">in</span> <span class="token number">192.168</span>.100.100 <span class="token number">192.168</span>.100.110 <span class="token number">192.168</span>.100.120
	<span class="token keyword">do</span>
		<span class="token builtin class-name">echo</span> <span class="token string">&quot;========zookeeper <span class="token variable">$host</span> status========&quot;</span>
		<span class="token function">ssh</span> <span class="token variable">$host</span> <span class="token string">&quot;/opt/zookeeper/zookeeper-3.5.7/bin/zkServer.sh status&quot;</span>
	<span class="token keyword">done</span>
<span class="token punctuation">}</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">&quot;stop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token for-or-select variable">host</span> <span class="token keyword">in</span> <span class="token number">192.168</span>.100.100 <span class="token number">192.168</span>.100.110 <span class="token number">192.168</span>.100.120
	<span class="token keyword">do</span>
		<span class="token builtin class-name">echo</span> <span class="token string">&quot;========zookeeper <span class="token variable">$host</span> stop========&quot;</span>
		<span class="token function">ssh</span> <span class="token variable">$host</span> <span class="token string">&quot;/opt/zookeeper/zookeeper-3.5.7/bin/zkServer.sh stop&quot;</span>
	<span class="token keyword">done</span>
<span class="token punctuation">}</span>
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/src/Linux/Basic.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2023 MineTing</div></footer></div><!--]--><!--]--></div>
    <script type="module" src="/assets/app-ae2ce5af.js" defer></script>
  </body>
</html>
